/** -------------------------------------------------------------------------
 * Event Espresso Button Stylesheet
 * Â© 2020 Event Espresso
 * ------------------------------------------------------------------------- */

@import 'application/ui/styles/mixins/breakpoints.scss';

:root {
	--ee-icon-button-size-tiny: 30px;
	--ee-icon-button-size-small: 36px;
	--ee-icon-button-size: 42px;
	--ee-icon-button-size-big: 48px;
	--ee-icon-button-size-huge: 54px;
	--ee-button-background: var(--ee-color-grey-12);
	--ee-button-text-color: var(--ee-text-on-grey-12);
	--ee-button-box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.35), -1px -1px 2px rgba(255, 255, 255, 0.95);
}

.btn-focus {
	border-color: var(--ee-color-primary);
	/* Visible in Windows high-contrast themes */
	outline-color: transparent;
	outline-width: 3px;
	outline-style: solid;

	&.ee-btn--is-active {
		border-color: var(--ee-color-primary-high-contrast);
	}
}

.btn-hover {
	border-color: var(--ee-color-primary-low-contrast);

	&.ee-btn--is-active {
		border-color: var(--ee-color-primary-super-high-contrast);
	}
}

.ee-btn-base {
	border-style: solid;
	border-width: 3px;
	cursor: pointer;
	display: inline-flex;
	height: var(--ee-icon-button-size);
	margin: var(--ee-margin-nano);
	width: var(--ee-icon-button-size);

	&:focus {
		@extend .btn-focus;
	}

	&:hover {
		@extend .btn-hover;
	}

	&.ee-btn {
		background: var(--ee-button-background);
		border-color: var(--ee-button-background);
		border-radius: var(--ee-border-radius-small);
		box-shadow: var(--ee-button-box-shadow);
		color: var(--ee-button-text-color);
		display: inline-flex;
		height: var(--ee-icon-button-size);
		line-height: var(--ee-font-size-default);
		margin: var(--ee-margin-smaller);
		outline: none;
		padding: var(--ee-padding-tiny) var(--ee-padding-smaller);
		position: relative;
		text-decoration: none;
		text-align: center;
		text-shadow: var(--ee-text-shadow-inset-light);
		-webkit-transition: all linear 50ms;
		transition: all linear 50ms;
		vertical-align: middle;
		width: auto;

		span {
			font-family: 'Segoe UI', Candara, 'Bitstream Vera Sans', 'DejaVu Sans', 'Bitstream Vera Sans',
				'Trebuchet MS', Verdana, 'Verdana Ref', sans-serif;
			font-size: var(--ee-font-size-default);
			font-weight: 600;
		}

		svg {
			fill: currentColor;
			transition: color 50ms linear, fill 50ms linear;
		}

		&--has-icon,
		&:not(.ee-noIcon) {
			span {
				margin: 0 var(--ee-margin-tiny);
			}
		}

		&:focus {
			background: var(--ee-button-background);
			box-shadow: var(--ee-button-box-shadow);
			@extend .btn-focus;
		}

		&:hover {
			background: var(--ee-button-background);
			box-shadow: var(--ee-button-box-shadow);
			@extend .btn-hover;
		}

		&.ee-btn--is-active {
			background: var(--ee-color-primary);
			border-color: var(--ee-color-primary);
			box-shadow: var(--ee-button-box-shadow);
			color: var(--ee-text-on-primary);
			text-shadow: var(--ee-text-shadow-inset);

			&:focus {
				border-color: var(--ee-color-primary-high-contrast);
			}

			&:hover {
				border-color: var(--ee-color-primary-low-contrast);
			}
		}

		&:active:not([disabled]) {
			background: var(--ee-button-background);
			box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.35), -1px -1px 2px rgba(255, 255, 255, 0.75);
			top: 1px;
		}

		// + .ee-btn {
		// 	margin-left: var(--ee-margin-default);

		// 	[dir='rtl'] & {
		// 		margin-left: 0;
		// 		margin-right: var(--ee-margin-default);
		// 	}
		// }

		.text-wrap {
			font-weight: bold;
			position: relative;
			top: calc(var(--ee-padding-nano) * -1.5);
			vertical-align: middle;
		}

		&.ee-noIcon .text-wrap {
			position: relative;
			top: var(--ee-padding-nano);
		}

		.img-wrap {
			position: relative;
			margin: 0 0 0 var(--ee-padding-small);
			top: var(--ee-padding-nano);
			vertical-align: middle;
		}

		.img-wrap span {
			line-height: 24px;
		}

		/* MINIMAL */
		&.ee-btn--minimal {
			&:not([disabled]) {
				background: none;
				border-color: var(--ee-default-text-color-low-contrast);
				color: var(--ee-default-text-color);
			}

			&:focus:not([disabled]) {
				background: none;
				border-color: var(--ee-color-primary);
				color: var(--ee-color-primary);

				&.ee-btn--is-active {
					border-color: var(--ee-color-primary-high-contrast);
				}
			}

			&:hover:not([disabled]) {
				background: none;
				border-color: var(--ee-color-primary-low-contrast);
				color: var(--ee-color-primary-low-contrast);
				&.ee-btn--is-active {
					border-color: var(--ee-color-primary-super-low-contrast);
				}
			}
		}

		/* PRIMARY */
		&.ee-btn--primary {
			text-shadow: none !important;
			&:not([disabled]) {
				background: var(--ee-color-primary);
				border-color: var(--ee-color-primary);
				color: var(--ee-text-on-primary);
			}

			&:focus:not([disabled]) {
				background: var(--ee-color-primary);
				border-color: var(--ee-color-primary-high-contrast);

				&.ee-btn--is-active {
					border-color: var(--ee-color-primary-super-high-contrast);
				}
			}

			&:hover:not([disabled]) {
				background: var(--ee-color-primary);
				border-color: var(--ee-color-primary-low-contrast);

				&.ee-btn--is-active {
					border-color: var(--ee-color-primary-super-low-contrast);
				}
			}
		}

		/* SECONDARY */
		&.ee-btn--secondary {
			text-shadow: none !important;

			span,
			svg {
				color: var(--ee-color-white);
			}

			&:not([disabled]) {
				background: var(--ee-color-secondary);
				border-color: var(--ee-color-secondary);
				color: var(--ee-text-on-secondary);
			}

			&:focus:not([disabled]) {
				background: var(--ee-color-secondary);
				border-color: var(--ee-color-secondary-high-contrast);

				&.ee-btn--is-active {
					border-color: var(--ee-color-secondary-super-high-contrast);
				}
			}

			&:hover:not([disabled]) {
				background: var(--ee-color-secondary);
				border-color: var(--ee-color-secondary-low-contrast);

				&.ee-btn--is-active {
					border-color: var(--ee-color-secondary-super-low-contrast);
				}
			}
		}

		/* ACCENT */
		&.ee-btn--accent {
			text-shadow: none !important;
			&:not([disabled]) {
				background: var(--ee-color-accent);
				border-color: var(--ee-color-accent);
				color: var(--ee-text-on-accent);
			}

			&:focus:not([disabled]) {
				background: var(--ee-color-accent);
				border-color: var(--ee-color-accent-high-contrast);

				&.ee-btn--is-active {
					border-color: var(--ee-color-accent-super-high-contrast);
				}
			}

			&:hover:not([disabled]) {
				background: var(--ee-color-accent);
				border-color: var(--ee-color-accent-low-contrast);

				&.ee-btn--is-active {
					border-color: var(--ee-color-accent-super-low-contrast);
				}
			}
		}

		/* DISABLED */
		&.ee-btn:disabled,
		&.ee-btn--primary:disabled,
		&.ee-btn--secondary:disabled,
		&.ee-btn--accent:disabled,
		&.ee-btn[aria-disabled='true'],
		&.ee-btn--primary[aria-disabled='true'],
		&.ee-btn--secondary[aria-disabled='true'],
		&.ee-btn--accent[aria-disabled='true'] {
			background: var(--ee-color-grey-11);
			border-color: var(--ee-color-grey-11);
			box-shadow: none;
			color: var(--ee-text-on-grey-11);
			cursor: not-allowed;
			opacity: 0.4;
		}

		/* BUTTON SIZES */
		&.ee-btn--tiny {
			height: var(--ee-icon-button-size-tiny);
			min-height: var(--ee-font-size-smaller);
			line-height: var(--ee-font-size-tiny);
			padding: 1px var(--ee-padding-micro) var(--ee-padding-nano);

			span {
				font-size: var(--ee-font-size-tiny);
			}

			svg {
				height: 0.6rem;
				width: 0.6rem;
			}

			.img-wrap span {
				line-height: var(--ee-font-size-tiny);
			}
		}

		&.ee-btn--small,
		&.ee-btn--smaller {
			height: var(--ee-icon-button-size-small);
			letter-spacing: 1px;
			line-height: var(--ee-font-size-tiny);
			min-height: var(--ee-font-size-small);
			padding: calc(var(--ee-padding-nano) + 1px) var(--ee-padding-tiny) var(--ee-padding-micro);

			span {
				font-size: var(--ee-font-size-small);
			}

			svg {
				margin-top: 2px;
			}

			> div {
				margin-top: 2px;

				svg {
					margin-top: 0;
				}
			}

			&:not(.ee-noIcon) .text-wrap {
				top: -0.1rem;
			}

			.img-wrap {
				top: 0.2rem;

				span {
					line-height: var(--ee-font-size-smaller);
				}
			}
		}

		&.ee-btn--small {
			svg {
				height: 0.9rem;
				width: 0.9rem;
			}
		}

		&.ee-btn--smaller {
			svg {
				height: 0.8rem;
				width: 0.8rem;
			}
		}

		&.ee-btn--big,
		&.ee-btn--bigger {
			height: var(--ee-icon-button-size-big);
			min-height: var(--ee-font-size-bigger);
			height: auto;
			line-height: var(--ee-font-size-big);
			padding: var(--ee-padding-smaller) var(--ee-padding-default);

			@include max782px {
				width: 100%;
			}

			span {
				font-size: var(--ee-font-size-big);
				font-weight: 800;
			}

			svg {
				[dir='rtl'] & {
					margin-right: 0;
					margin-left: var(--ee-margin-tiny);
				}
			}

			.img-wrap span {
				line-height: var(--ee-font-size-big);
			}
		}

		&.ee-btn--big {
			svg {
				height: 1.5rem;
				width: 1.5rem;
			}
		}

		&.ee-btn--bigger {
			svg {
				height: 1.75rem;
				width: 1.75rem;
			}
		}

		&.ee-btn--huge {
			height: var(--ee-icon-button-size-huge);
			min-height: var(--ee-font-size-huge);
			line-height: var(--ee-font-size-bigger);
			padding: var(--ee-padding-smaller) var(--ee-padding-default) var(--ee-padding-small);

			span {
				font-size: var(--ee-font-size-bigger);
				font-weight: 800;
			}

			svg {
				height: 1.75rem;
				width: 1.75rem;
			}

			.img-wrap span {
				line-height: var(--ee-font-size-bigger);
			}
		}
	}

	.ee-btn-label + .ee-btn {
		margin-right: var(--ee-margin-small) !important;
	}
}

/* Media Queries for specific screen sizes
 * -------------------------------------------------------------------------*/

/* WordPress Admin Media Query Breakpoint: Smartphone */
@media screen and (max-width: 600px) {
	.ee-btn + .ee-btn {
		&.ee-btn-base {
			margin-left: var(--ee-margin-smaller);
		}
	}
}

@media only screen and (max-width: 480px) {
	.ee-btn + .ee-btn {
		&.ee-btn-base {
			margin-left: var(--ee-margin-micro);
		}
	}
}

@media only screen and (max-width: 360px) {
	.ee-btn {
		+ .ee-btn {
			&.ee-btn-base {
				margin-left: auto;
			}
		}
	}
}
