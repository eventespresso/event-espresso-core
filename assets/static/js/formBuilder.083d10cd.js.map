{"version":3,"sources":["../webpack/bootstrap","../external \"React\"","../node_modules/react/jsx-runtime.js","../node_modules/classnames/index.js","../packages/icons/src/icons/Save.tsx","../packages/icons/src/icons/Check.tsx","../external [\"eventespresso\",\"predicates\"]","../packages/form-builder/src/state/constants.ts","../packages/form-builder/src/state/utils.ts","../packages/form-builder/src/context/withFormState.tsx","../packages/form-builder/src/constants.ts","../packages/form-builder/src/state/useFormStateReducer.ts","../packages/form-builder/src/state/useFormStateManager.ts","../packages/form-builder/src/state/useInitialState.ts","../packages/form-builder/src/context/FormStateProvider.tsx","../packages/form-builder/src/state/useFormState.ts","../packages/form-builder/src/FormSection/AddFormElementPopover.tsx","../packages/icons/src/icons/SettingsOutlined.tsx","../packages/icons/src/icons/DragHandle.tsx","../packages/form-builder/src/FormSection/SaveSection.tsx","../packages/form-builder/src/FormSection/FormSectionToolbar.tsx","../packages/form-builder/src/FormElement/MappedElement.tsx","../packages/form-builder/src/FormElement/useUpdateElement.ts","../packages/form-builder/src/utils.ts","../packages/form-builder/src/FormElement/FormElementInput.tsx","../packages/form-builder/src/FormElement/FormElementToolbar.tsx","../packages/icons/src/icons/Palette.tsx","../packages/form-builder/src/FormElement/Tabs/FieldOption.tsx","../packages/form-builder/src/FormElement/Tabs/FieldOptions.tsx","../packages/form-builder/src/FormElement/Tabs/InputType.tsx","../packages/form-builder/src/FormElement/Tabs/Settings.tsx","../packages/form-builder/src/FormElement/Tabs/Styles.tsx","../packages/form-builder/src/FormElement/Tabs/Validation.tsx","../packages/form-builder/src/FormElement/Tabs/FormElementTabs.tsx","../packages/form-builder/src/FormElement/FormElement.tsx","../packages/form-builder/src/FormSection/FormSectionElements.tsx","../packages/form-builder/src/FormSection/useUpdateSection.ts","../packages/form-builder/src/FormSection/Tabs/Styles.tsx","../packages/form-builder/src/FormSection/Tabs/Settings.tsx","../packages/form-builder/src/FormSection/Tabs/FormSectionTabs.tsx","../packages/form-builder/src/FormSection/FormSection.tsx","../packages/form-builder/src/FormSection/FormSections.tsx","../packages/form-builder/src/data/gql.ts","../packages/form-builder/src/data/useElementMutator.ts","../packages/form-builder/src/data/useMutateElements.ts","../packages/form-builder/src/data/useSectionMutator.ts","../packages/form-builder/src/data/useMutateSections.ts","../packages/form-builder/src/FormBuilder.tsx","../packages/form-builder/src/data/useSaveForm.ts","../packages/form-builder/src/state/useHandleDnD.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../packages/form-builder/src/index.ts","../packages/icons/src/icons/Plus.tsx","../packages/icons/src/icons/Copy.tsx","../external [\"eventespresso\",\"utils\"]","../node_modules/regenerator-runtime/runtime.js","../external [\"eventespresso\",\"richTextEditor\"]","../external [\"eventespresso\",\"data\"]","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../packages/icons/src/withClassName.tsx","../external [\"eventespresso\",\"hooks\"]","../external [\"eventespresso\",\"adapters\"]","../external [\"eventespresso\",\"i18n\"]","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../external \"R\"","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../packages/icons/src/icons/Trash.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../external [\"eventespresso\",\"uiComponents\"]","../external [\"eventespresso\",\"dates\"]","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/use-debounce/esm/useDebouncedCallback.js","../node_modules/invariant/browser.js","../node_modules/object-assign/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","require","hasOwn","classNames","classes","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","join","default","withClassName","props","viewBox","fill","height","width","className","LOCAL_ONLY_FIELDS","STATUS_FLAGS","omitLocalFields","item","R","omitStatusFlags","resetStatusFlags","isActive","isArchived","isDefault","isShared","isTrashed","status","elementJsonFields","parseRawElement","element","predicates","map","field","JSON","parse","stringifyElementFields","stringify","sectionJsonFields","parseRawSection","stringifySectionFields","markAsModified","items","startingIndex","unmodifiedElements","newModifiedElements","Component","addSectionToState","section","afterId","state","newSection","isSharedOrDefault","id","sortedSections","sortByOrder","values","sections","newIndex","setOrderByIndex","openElement","moveSection","currentIndex","Math","min","addElementToState","elements","filter","belongsTo","sortedElements","existingElementIdx","moveElement","sectionId","elementsMap","deleteElement","deleteSection","deleteSectionElements","sectionElementIds","getSectionElementIds","belongsToNone","isNilOrEmpty","prepareNewSection","topLevelSection","DEFAULT_SECTION","uuid","isNew","prepareNewElement","publicLabel","type","__","newElement","label","DEFAULT_ELEMENT","appliesTo","order","NUMERIC_FIELDS","TEXT_FIELDS","ELEMENT_BLOCKS","desc","ELEMENT_BLOCKS_INDEXED","ELEMENT_BLOCKS_OPTIONS","initialState","deletedElements","deletedSections","isDirty","useFormStateManager","onChange","appliesToOptions","mapsToOptions","initializer","initialElements","initialSections","topLevelSectionId","useCallback","parsedElements","parsedSections","useInitialState","reducer","action","copyFromSectionId","newSectionId","addedSectionId","index","sectionElements","elem","isModified","existingSection","isEqualJson","existingElement","Error","newState","useFormStateReducer","useReducer","dispatch","useEffect","getData","getSections","isNotSharedOrDefault","getSharedSections","getElements","addSection","copySection","updateSection","markSectionAsSaved","markSectionAsDeleted","addElement","copyElement","updateElement","markElementAsSaved","markElementAsDeleted","isElementOpen","isTopLevelSection","toggleOpenElement","reset","useMemo","FormStateContext","createContext","Provider","FormStateProvider","Consumer","children","data","useFormState","useContext","invariant","AddFormElementPopover","formSection","useDisclosure","isOpen","onOpen","onClose","sharedSections","sharedSectionOptions","adminLabel","useState","selectedElement","setSelectedElement","selectedSection","setSelectedSection","onAddElement","onAddExistingSection","onChangeElement","onChangeSection","tabIndex","contentClassName","header","as","placement","trigger","buttonText","icon","Plus","onClick","size","options","onChangeValue","isDisabled","buttonType","color","xmlns","stroke","strokeWidth","SaveSection","setValue","onSave","renderTrigger","borderless","Save","tooltip","transparentBg","closeOnBlur","title","onSubmit","htmlFor","FormSectionToolbar","memo","dragHandleProps","active","onCopy","onDelete","onToggle","deleteButtonProps","Trash","SettingsOutlined","Copy","asIconButton","onConfirm","buttonProps","DragHandle","getPropsAreEqual","DefaultComponent","MappedElement","withLabel","elementType","DatePicker","MonthPicker","TimePicker","MultiCheckbox","MultiSelect","RadioGroup","Select","Switch","NumberInput","Slider","TextInput","Textarea","SimpleTextEditor","Button","useUpdateElement","strToPath","isFieldOfType","types","isButtonField","isDateField","isFieldWithOptions","isNumericField","isTextField","isTelField","FormElementInput","inputProps","placeholder","attributes","required","getDaysDropdownOptions","getMonthsDropdownOptions","getYearsDropdownOptions","endYear","toLowerCase","safeNumber","max","step","html","toolbarHidden","readonly","isRequired","helpText","FormElementToolbar","elementTypeLabel","cx","cy","FieldOption","onRemove","hidden","removeButtonProps","draggableId","draggableProps","innerRef","isDragging","ref","onChangeOptionInput","safeValue","replace","newOptions","onRemoveOption","onAddOption","droppableId","handleDnD","destination","source","noDestination","noChange","notOfOurInterest","onDragEnd","droppableProps","isDraggingOver","InputType","onUpdateValue","currentType","setCurrentType","useConfirmationDialog","message","onCancel","confirmationDialog","RTEWithLabel","Settings","defaultValue","isChecked","adminOnly","mapsTo","Styles","class","htmlClass","maxlength","DatePickerWithLabel","TimePickerWithLabel","monthFieldProps","showMonthYearPicker","dateFormat","formatOptions","Validation","validationText","autocomplete","customOptionValue","inputLabel","pattern","minDate","maxDate","FormElementTabs","show","variant","wrapperClassName","Check","FormElement","wrapperClass","FormSectionElements","useUpdateSection","showLabel","FormSectionTabs","FormSection","fieldsetClass","FormSections","formSections","onAddSection","CREATE_FORM_SECTION","gql","UPDATE_FORM_SECTION","DELETE_FORM_SECTION","CREATE_FORM_ELEMENT","UPDATE_FORM_ELEMENT","DELETE_FORM_ELEMENT","createVariables","mutationType","input","clientMutationId","normalizeElementInput","useMutateElements","createElement","useMutationWithFeedback","typeName","MutationType","Create","mutation","Update","Delete","createEntity","a","variables","updateEntity","deleteEntity","useElementMutator","savedElements","Promise","all","deletedElementId","deleteEspressoFormElement","espressoFormElement","Boolean","forEach","normalizeSectionInput","useMutateSections","createSection","useSectionMutator","savedSections","deletedSectionId","deleteEspressoFormSection","espressoFormSection","withFormState","bodyClassName","containerClassName","TopBanner","topBanner","mutateElements","mutateSections","saveForm","useDebouncedCallback","console","log","useSaveForm","bodyClass","contentClass","containerClass","body","container","content","result","useHandleDnD","_defineProperty","obj","configurable","writable","runtime","undefined","Op","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","GenStateSuspendedStart","method","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","GenStateSuspendedYield","makeInvokeMethod","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","resolve","reject","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isNaN","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","target","getOwnPropertyDescriptors","defineProperties","WrappedComponent","svgName","WrappedIcon","noMargin","_toConsumableArray","arr","arrayLikeToArray","iterableToArray","unsupportedIterableToArray","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","minLen","from","test","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","_taggedTemplateLiteral","strings","raw","freeze","_arrayWithHoles","_nonIterableRest","func","wait","_this","lastCallTime","useRef","lastInvokeTime","timerId","lastArgs","lastThis","funcRef","mounted","current","useRAF","leading","trailing","maxing","maxWait","invokeFunc","time","thisArg","startTimer","pendingFunc","cancelAnimationFrame","requestAnimationFrame","setTimeout","shouldInvoke","timeSinceLastCall","timeSinceLastInvoke","trailingEdge","timerExpired","Date","now","timeWaiting","remainingWait","_i","isInvoking","cancel","clearTimeout","isPending","flush","condition","format","b","e","f","argIndex","framesToPop","propIsEnumerable","propertyIsEnumerable","toObject","val","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","test3","split","letter","shouldUseNative","to","_iterableToArray","g","Fragment","for","h","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","__self","__source","q","k","defaultProps","$$typeof","_owner","jsx","jsxs","_objectWithoutProperties","excluded","sourceKeys","indexOf","sourceSymbolKeys","_slicedToArray","arrayWithHoles","_arr","_n","_d","_e","_s","nonIterableRest"],"mappings":"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","file":"static/js/formBuilder.083d10cd.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1535);\n","(function() { module.exports = window[\"React\"]; }());","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import withClassName from '../withClassName';\nimport { IconProps } from '../types';\n\nconst Save = (props: IconProps): JSX.Element => {\n\treturn (\n\t\t<svg\n\t\t\tviewBox='0 0 1024 1024'\n\t\t\tfill='currentColor'\n\t\t\taria-hidden='true'\n\t\t\theight='1.5em'\n\t\t\twidth='1.5em'\n\t\t\tclassName='ee-svg--save'\n\t\t\t{...props}\n\t\t>\n\t\t\t<path d='M893.3 293.3L730.7 130.7c-12-12-28.3-18.7-45.3-18.7H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 176h256v112H384V176zm128 554c-79.5 0-144-64.5-144-144s64.5-144 144-144 144 64.5 144 144-64.5 144-144 144zm0-224c-44.2 0-80 35.8-80 80s35.8 80 80 80 80-35.8 80-80-35.8-80-80-80z' />\n\t\t</svg>\n\t);\n};\n\nexport default withClassName(Save, 'save');\n","import withClassName from '../withClassName';\nimport { IconProps } from '../types';\n\nconst Check = (props: IconProps): JSX.Element => {\n\treturn (\n\t\t<svg\n\t\t\taria-hidden='true'\n\t\t\tfill='currentColor'\n\t\t\tviewBox='64 64 896 896'\n\t\t\tdata-icon='check-circle'\n\t\t\theight='1.5em'\n\t\t\twidth='1.5em'\n\t\t\tclassName='ee-svg--check'\n\t\t\t{...props}\n\t\t>\n\t\t\t<path d='M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z' />\n\t\t\t<path d='M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z' />\n\t\t</svg>\n\t);\n};\n\nexport default withClassName(Check, 'check');\n","(function() { module.exports = window[\"eventespresso\"][\"predicates\"]; }());","import { LocalOnlyFields, FormStatusFlags } from '../types';\n\nexport const LOCAL_ONLY_FIELDS: Array<keyof LocalOnlyFields> = ['isModified', 'isNew', 'value'];\n\nexport const STATUS_FLAGS: Array<keyof FormStatusFlags> = [\n\t'isActive',\n\t'isArchived',\n\t'isDefault',\n\t'isShared',\n\t'isTrashed',\n];\n","import * as R from 'ramda';\n\nimport { __ } from '@eventespresso/i18n';\nimport { uuid, isNilOrEmpty } from '@eventespresso/utils';\nimport { sortByOrder, setOrderByIndex, isSharedOrDefault } from '@eventespresso/predicates';\n\nimport { FormState } from './types';\nimport {\n\tFormElement,\n\tFormElementRaw,\n\tFormSection,\n\tFormSectionRaw,\n\tLocalOnlyFields,\n\tFormStatusFlags,\n\tFormStatus,\n\tElementJsonFields,\n\tSectionJsonFields,\n} from '../types';\nimport { LOCAL_ONLY_FIELDS, STATUS_FLAGS } from './constants';\nimport { DEFAULT_ELEMENT, DEFAULT_SECTION } from '../constants';\n\nexport function omitLocalFields<Item extends LocalOnlyFields>(item: Item) {\n\treturn R.omit(LOCAL_ONLY_FIELDS, item);\n}\n\nexport function omitStatusFlags<Item extends FormStatusFlags>(item: Item) {\n\treturn R.omit(STATUS_FLAGS, item);\n}\n\n/**\n * recalculates the boolean status flags based on the new status\n */\nexport function resetStatusFlags<Item extends FormStatusFlags & { status?: FormStatus }>(item: Item): Item {\n\t// Set all of them to false first\n\tlet isActive = false,\n\t\tisArchived = false,\n\t\tisDefault = false,\n\t\tisShared = false,\n\t\tisTrashed = false;\n\tswitch (item.status) {\n\t\tcase 'ACTIVE':\n\t\t\tisActive = true;\n\t\t\tbreak;\n\t\tcase 'ARCHIVED':\n\t\t\tisArchived = true;\n\t\t\tbreak;\n\t\tcase 'DEFAULT':\n\t\t\tisDefault = true;\n\t\t\tbreak;\n\t\tcase 'SHARED':\n\t\t\tisShared = true;\n\t\t\tbreak;\n\t\tcase 'TRASHED':\n\t\t\tisTrashed = true;\n\t\t\tbreak;\n\t}\n\treturn { ...item, isActive, isArchived, isDefault, isShared, isTrashed };\n}\n\nconst elementJsonFields: Array<ElementJsonFields> = ['attributes', 'helpText', 'label', 'options', 'required'];\n/**\n * Parses a raw form element which has consolidated fields as JSON and converts them to objects\n */\nexport const parseRawElement = (element: FormElementRaw) => {\n\tconst predicates = elementJsonFields.map((field) => {\n\t\t// when the field is present in the element, parse it as JSON\n\t\treturn R.when<FormElement, FormElement>(R.has(field), R.over(R.lensProp(field), JSON.parse));\n\t});\n\t// @ts-ignore ramda TS doesn't like spread operator here which it should\n\treturn R.pipe(...predicates)(element);\n};\n/**\n * Converts the consolidated fields (which are objects) to JSON strings.\n */\nexport const stringifyElementFields = (element: FormElement) => {\n\tconst predicates = elementJsonFields.map((field) => {\n\t\t// when the field is present in the element, stringify it as JSON\n\t\treturn R.when<FormElementRaw, FormElementRaw>(R.has(field), R.over(R.lensProp(field), JSON.stringify));\n\t});\n\t// @ts-ignore ramda TS doesn't like spread operator here which it should\n\treturn R.pipe(...predicates)(element);\n};\n\nconst sectionJsonFields: Array<SectionJsonFields> = ['attributes', 'label'];\n/**\n * Parses a raw form section which has consolidated fields as JSON and converts them to objects\n */\nexport const parseRawSection = (element: FormSectionRaw) => {\n\tconst predicates = sectionJsonFields.map((field) => {\n\t\t// when the field is present in the section, parse it as JSON\n\t\treturn R.when<FormSection, FormSection>(R.has(field), R.over(R.lensProp(field), JSON.parse));\n\t});\n\t// @ts-ignore ramda TS doesn't like spread operator here which it should\n\treturn R.pipe(...predicates)(element);\n};\n/**\n * Converts the consolidated fields (which are objects) to JSON strings.\n */\nexport const stringifySectionFields = (element: FormSection) => {\n\tconst predicates = sectionJsonFields.map((field) => {\n\t\t// when the field is present in the element, stringify it as JSON\n\t\treturn R.when<FormSectionRaw, FormSectionRaw>(R.has(field), R.over(R.lensProp(field), JSON.stringify));\n\t});\n\t// @ts-ignore ramda TS doesn't like spread operator here which it should\n\treturn R.pipe(...predicates)(element);\n};\n\n/**\n * Normalizes mutation input for element mutations\n */\nexport function normalizeElementInput(input: any) {\n\treturn R.pipe(omitLocalFields, stringifyElementFields)(input);\n}\n\n/**\n * Normalizes mutation input for element mutations\n */\nexport function normalizeSectionInput(input: any) {\n\treturn R.pipe(stringifySectionFields, omitStatusFlags, omitLocalFields)(input);\n}\n\nexport function markAsModified<Item extends LocalOnlyFields>(items: Array<Item>, startingIndex: number) {\n\t// split the items at the starting index to mark the succeeding indices as modified items\n\tconst [unmodifiedElements, modifiedElements] = R.splitAt(startingIndex, items);\n\t// set `isModified` to true\n\tconst newModifiedElements = modifiedElements.map(R.set(R.lensProp('isModified'), true));\n\t// Update the elements array\n\treturn [...unmodifiedElements, ...newModifiedElements];\n}\n\n/**\n * If the `topLevelSection` is not set,\n * it attempts to set the first added section as the top level one\n */\nexport const maybeSetTopLevelSection = (addedSectionId: string) => {\n\treturn R.when<FormState, FormState>(\n\t\tR.propSatisfies(isNilOrEmpty, 'topLevelSection'),\n\t\tR.set(R.lensProp<FormState>('topLevelSection'), addedSectionId)\n\t);\n};\n\nexport const addSectionToState =\n\t(section: FormSection, afterId: string) =>\n\t(state: FormState): FormState => {\n\t\tconst newSection = resetStatusFlags(section);\n\t\t// if a section is saved (as DEFAULT or SHARED),\n\t\t// we don't need to recalculate the order, lets prevent unnecessary mutations\n\t\tif (isSharedOrDefault(newSection)) {\n\t\t\treturn R.assocPath(['sections', newSection.id], newSection, state);\n\t\t}\n\t\t// Sort the sections by order\n\t\tlet sortedSections = sortByOrder(Object.values(state.sections));\n\t\t// Find the index of the section after which the new section should be added\n\t\tconst existingSectionIdx = R.findIndex(R.propEq('id', afterId), sortedSections);\n\t\tconst newIndex = existingSectionIdx + 1;\n\t\t// Insert the new section at the correct position\n\t\tsortedSections = R.insert(newIndex, newSection, sortedSections);\n\t\t// Recalculate the order of all the sections\n\t\tsortedSections = setOrderByIndex(sortedSections);\n\t\t// mark the updated items as modified, here the `order` will change only from the new index\n\t\tsortedSections = markAsModified(sortedSections, newIndex);\n\n\t\t// compute the state\n\t\treturn {\n\t\t\t...state,\n\t\t\tsections: R.indexBy(R.prop('id'), sortedSections),\n\t\t\t// Open the new section\n\t\t\topenElement: newSection.id,\n\t\t};\n\t};\n\nexport const moveSection =\n\t(id: string, newIndex: number) =>\n\t(state: FormState): FormState => {\n\t\t// Sort the sections by order\n\t\tlet sortedSections = sortByOrder(Object.values(state.sections));\n\t\t// Find the current index of the section\n\t\tconst currentIndex = R.findIndex(R.propEq('id', id), sortedSections);\n\t\t// If the element is not found\n\t\tif (currentIndex < 0) {\n\t\t\treturn state;\n\t\t}\n\t\t// Move the element to the new index\n\t\tsortedSections = R.move(currentIndex, newIndex, sortedSections);\n\t\t// Recalculate the order of all the sections\n\t\tsortedSections = setOrderByIndex(sortedSections);\n\t\t// items can be re-arranged in any order (up and down), so the `order` will change starting from the lower index\n\t\t// so we need to use the lowest of the two indices to mark them as modified\n\t\tconst modifiedStartIndex = Math.min(currentIndex, newIndex);\n\t\t// mark the updated items as modified\n\t\tsortedSections = markAsModified(sortedSections, modifiedStartIndex);\n\n\t\t// compute the state\n\t\treturn {\n\t\t\t...state,\n\t\t\tsections: R.indexBy(R.prop('id'), sortedSections),\n\t\t\t// close any open elements\n\t\t\topenElement: '',\n\t\t};\n\t};\n\nexport const addElementToState =\n\t(element: FormElement, afterId?: string) =>\n\t(state: FormState): FormState => {\n\t\t// we need to filter the elements by section to set the order\n\t\tconst elements = Object.values(state.elements).filter(R.propEq('belongsTo', element.belongsTo));\n\t\t// Sort the elements by order\n\t\tlet sortedElements = sortByOrder(elements);\n\t\t// Find the index of the element after which the new element should be added\n\t\tconst existingElementIdx = afterId ? R.findIndex(R.propEq('id', afterId), sortedElements) : -1;\n\n\t\t// If the element is not found, new index is -1 (end of the list)\n\t\tconst newIndex = existingElementIdx < 0 ? -1 : existingElementIdx + 1;\n\n\t\t// Insert the new element at the correct position\n\t\tsortedElements = R.insert(newIndex, element, sortedElements);\n\n\t\t// Recalculate the order of all the elements\n\t\tsortedElements = setOrderByIndex(sortedElements);\n\t\t// mark the updated items as modified, here the `order` will change only from the new index\n\t\tsortedElements = markAsModified(sortedElements, newIndex);\n\n\t\t// compute the state\n\t\treturn {\n\t\t\t...state,\n\t\t\telements: {\n\t\t\t\t// Since we filtered the elements by section, we need to retain other elements\n\t\t\t\t...state.elements,\n\t\t\t\t...R.indexBy(R.prop('id'), sortedElements),\n\t\t\t},\n\t\t\t// Open the new element\n\t\t\topenElement: element.id,\n\t\t};\n\t};\n\nexport const moveElement =\n\t(id: string, newIndex: number, sectionId: string) =>\n\t(state: FormState): FormState => {\n\t\t// Change/Set the section Id for the element\n\t\tconst elementsMap = {\n\t\t\t...state.elements,\n\t\t\t[id]: {\n\t\t\t\t...state.elements[id],\n\t\t\t\tbelongsTo: sectionId,\n\t\t\t},\n\t\t};\n\t\t// we need to filter the elements by section to set the order\n\t\tconst elements = Object.values(elementsMap).filter(R.propEq('belongsTo', sectionId));\n\t\t// Sort the elements by order\n\t\tlet sortedElements = sortByOrder(elements);\n\t\t// Find the current index of the section\n\t\tconst currentIndex = R.findIndex(R.propEq('id', id), sortedElements);\n\t\t// If the element is not found\n\t\tif (currentIndex < 0) {\n\t\t\treturn state;\n\t\t}\n\t\t// Move the element to the new index\n\t\tsortedElements = R.move(currentIndex, newIndex, sortedElements);\n\n\t\t// Recalculate the order of all the elements\n\t\tsortedElements = setOrderByIndex(sortedElements);\n\t\t// items can be re-arranged in any order (up and down), so the `order` will change starting from the lower index\n\t\t// so we need to use the lowest of the two indices to mark them as modified\n\t\tconst modifiedStartIndex = Math.min(currentIndex, newIndex);\n\t\t// mark the updated items as modified\n\t\tsortedElements = markAsModified(sortedElements, modifiedStartIndex);\n\n\t\t// compute the state\n\t\treturn {\n\t\t\t...state,\n\t\t\telements: {\n\t\t\t\t// Since we filtered the elements by section, we need to retain other elements\n\t\t\t\t...state.elements,\n\t\t\t\t...R.indexBy(R.prop('id'), sortedElements),\n\t\t\t},\n\t\t\t// close any open elements\n\t\t\topenElement: '',\n\t\t};\n\t};\n\nexport const deleteElement = (id: string) => {\n\treturn R.pipe<FormState, FormState, FormState>(\n\t\t// unless an element is new, it needs to be marked as deleted\n\t\tR.unless(R.pathEq(['elements', id, 'isNew'], true), R.over(R.lensPath(['deletedElements']), R.concat([id]))),\n\t\tR.over(R.lensPath(['elements']), R.omit([id]))\n\t);\n};\n\nexport const deleteSection = (id: string) => {\n\treturn R.pipe<FormState, FormState, FormState>(\n\t\t// unless a section is new, it needs to be marked as deleted\n\t\tR.unless(R.pathEq(['sections', id, 'isNew'], true), R.over(R.lensPath(['deletedSections']), R.concat([id]))),\n\t\tR.over(R.lensPath(['sections']), R.omit([id]))\n\t);\n};\n\nexport const copySectionElements =\n\t(copyFromSectionId: string, newSectionId: string) =>\n\t(state: FormState): FormState => {\n\t\t// We also need to copy the elements of the section\n\t\tlet sectionElements: Array<FormElement> = [];\n\t\t// Lets get all the elements that belong to the copied section\n\t\tsectionElements = Object.values(state.elements).filter(R.propEq('belongsTo', copyFromSectionId));\n\t\t// Change the id and belongsTo for all the elements\n\t\tsectionElements = sectionElements.map((elem) => ({\n\t\t\t...elem,\n\t\t\tid: uuid(),\n\t\t\tbelongsTo: newSectionId,\n\t\t\tisNew: true,\n\t\t}));\n\n\t\treturn {\n\t\t\t...state,\n\t\t\telements: {\n\t\t\t\t// Since we filtered the elements by section, we need to retain other elements\n\t\t\t\t...state.elements,\n\t\t\t\t...R.indexBy(R.prop('id'), sectionElements),\n\t\t\t},\n\t\t};\n\t};\n\nexport const deleteSectionElements =\n\t(sectionId: string) =>\n\t(state: FormState): FormState => {\n\t\tconst sectionElementIds = getSectionElementIds(sectionId)(state);\n\n\t\treturn R.over(R.lensPath(['elements']), R.omit(sectionElementIds), state);\n\t};\n\nexport const getSectionElementIds =\n\t(sectionId: string) =>\n\t(state: FormState): Array<string> => {\n\t\treturn Object.values(state.elements)\n\t\t\t.filter(R.propEq('belongsTo', sectionId))\n\t\t\t.map(({ id }) => id);\n\t};\n\n/**\n * Returns true if a section or element has `belongsTo` field empty\n */\nexport const belongsToNone = R.propSatisfies<string, { belongsTo?: string }>(isNilOrEmpty, 'belongsTo');\n\nexport const prepareNewSection = (section: Partial<FormSection>, topLevelSection?: string): FormSection => {\n\treturn {\n\t\t// New section will be composed of default section\n\t\t...DEFAULT_SECTION,\n\t\t// by default set `belongsTo` to `topLevelSection`\n\t\tbelongsTo: topLevelSection,\n\t\t...section,\n\t\tid: uuid(),\n\t\tisNew: true,\n\t};\n};\n\nexport const prepareNewElement = (element: Partial<FormElement>): FormElement => {\n\tlet publicLabel: string;\n\n\tswitch (element.type) {\n\t\tcase 'BUTTON':\n\t\t\tpublicLabel = __('click');\n\t\t\tbreak;\n\t\tcase 'CHECKBOX_MULTI':\n\t\t\tpublicLabel = __('checkboxes');\n\t\t\tbreak;\n\t\tcase 'DATE':\n\t\t\tpublicLabel = __('date');\n\t\t\tbreak;\n\t\tcase 'DATETIME_LOCAL':\n\t\t\tpublicLabel = __('Local Date');\n\t\t\tbreak;\n\t\tcase 'DAY_SELECT':\n\t\t\tpublicLabel = __('day');\n\t\t\tbreak;\n\t\tcase 'DECIMAL':\n\t\t\tpublicLabel = __('Decimal Number');\n\t\t\tbreak;\n\t\tcase 'INTEGER':\n\t\t\tpublicLabel = __('Whole Number');\n\t\t\tbreak;\n\t\tcase 'EMAIL':\n\t\t\tpublicLabel = __('email address');\n\t\t\tbreak;\n\t\tcase 'EMAIL_CONFIRMATION':\n\t\t\tpublicLabel = __('confirm email address');\n\t\t\tbreak;\n\t\tcase 'MONTH':\n\t\tcase 'MONTH_SELECT':\n\t\t\tpublicLabel = __('month');\n\t\t\tbreak;\n\t\tcase 'PASSWORD':\n\t\t\tpublicLabel = __('password');\n\t\t\tbreak;\n\t\tcase 'PASSWORD_CONFIRMATION':\n\t\t\tpublicLabel = __('confirm password');\n\t\t\tbreak;\n\t\tcase 'RADIO':\n\t\t\tpublicLabel = __('radio buttons');\n\t\t\tbreak;\n\t\tcase 'RANGE':\n\t\t\tpublicLabel = __('number range');\n\t\t\tbreak;\n\t\tcase 'SELECT':\n\t\t\tpublicLabel = __('selection dropdown');\n\t\t\tbreak;\n\t\tcase 'SELECT_COUNTRY':\n\t\t\tpublicLabel = __('country');\n\t\t\tbreak;\n\t\tcase 'SELECT_MULTI':\n\t\t\tpublicLabel = __('multi-select dropdown');\n\t\t\tbreak;\n\t\tcase 'SELECT_STATE':\n\t\t\tpublicLabel = __('state/province');\n\t\t\tbreak;\n\t\tcase 'SWITCH':\n\t\t\tpublicLabel = __('on/off switch');\n\t\t\tbreak;\n\t\tcase 'RESET':\n\t\t\tpublicLabel = __('reset');\n\t\t\tbreak;\n\t\tcase 'TEL':\n\t\t\tpublicLabel = __('phone number');\n\t\t\tbreak;\n\t\tcase 'TEXT':\n\t\t\tpublicLabel = __('text');\n\t\t\tbreak;\n\t\tcase 'TEXTAREA':\n\t\t\tpublicLabel = __('simple textarea');\n\t\t\tbreak;\n\t\tcase 'TEXTAREA_HTML':\n\t\t\tpublicLabel = __('html textarea');\n\t\t\tbreak;\n\t\tcase 'TIME':\n\t\t\tpublicLabel = __('time');\n\t\t\tbreak;\n\t\tcase 'URL':\n\t\t\tpublicLabel = __('URL');\n\t\t\tbreak;\n\t\tcase 'WEEK':\n\t\t\tpublicLabel = __('week');\n\t\t\tbreak;\n\t\tcase 'YEAR_SELECT':\n\t\t\tpublicLabel = __('year');\n\t\t\tbreak;\n\t}\n\n\tconst newElement = R.mergeDeepRight({ label: { publicLabel } }, element);\n\n\treturn {\n\t\t// New element will be composed of default element\n\t\t...DEFAULT_ELEMENT,\n\t\t...newElement,\n\t\tid: uuid(),\n\t\tisNew: true,\n\t};\n};\n","import type { AnyObject } from '@eventespresso/utils';\n\nimport { FormStateProvider, FormStateProviderProps } from './FormStateProvider';\n\nexport const withFormState = <P extends AnyObject>(\n\tComponent: React.ComponentType<P>\n): React.ComponentType<P & FormStateProviderProps> => {\n\treturn function WrappedComponent(props: P & FormStateProviderProps) {\n\t\treturn (\n\t\t\t<FormStateProvider {...props}>\n\t\t\t\t<Component {...props} />\n\t\t\t</FormStateProvider>\n\t\t);\n\t};\n};\n","import * as R from 'ramda';\n\nimport { __ } from '@eventespresso/i18n';\nimport type { OptionsType } from '@eventespresso/adapters';\n\nimport { ElementBlock, FormSection, FormElement, ElementType } from './types';\nimport { resetStatusFlags } from './state/utils';\n\nexport const SECTIONS_DROPPABLE_ID = 'form-sections';\n\nexport const DEFAULT_SECTION: FormSection = resetStatusFlags({\n\tid: '',\n\tappliesTo: 'ALL',\n\tisActive: false,\n\tisArchived: false,\n\tisDefault: false,\n\tisShared: false,\n\tisTrashed: false,\n\tlabel: {\n\t\tpublicLabel: '',\n\t},\n\torder: 1,\n\tstatus: 'ACTIVE',\n});\n\nexport const DEFAULT_ELEMENT: FormElement = {\n\tid: '',\n\tbelongsTo: '',\n\ttype: 'TEXT',\n\torder: 1,\n};\n\nexport const NUMERIC_FIELDS: Array<ElementType> = ['INTEGER', 'DECIMAL', 'RANGE'];\n\nexport const TEXT_FIELDS: Array<ElementType> = [\n\t...NUMERIC_FIELDS,\n\t'EMAIL',\n\t'EMAIL_CONFIRMATION',\n\t'PASSWORD',\n\t'PASSWORD_CONFIRMATION',\n\t'TEL',\n\t'TEXT',\n\t'URL',\n];\n\nexport const DATE_FIELDS: Array<ElementType> = ['DATE', 'DATETIME_LOCAL', 'MONTH'];\n\nexport const BUTTON_FIELDS: Array<ElementType> = ['BUTTON', 'RESET'];\n\n// These are the fields that require `options` to be passed to the component\nexport const FIELDS_WITH_OPTIONS: Array<ElementType> = ['CHECKBOX_MULTI', 'RADIO', 'SELECT', 'SELECT_MULTI'];\n\nexport const ELEMENT_BLOCKS: Array<ElementBlock> = [\n\t{\n\t\tlabel: __('Form Section'),\n\t\ttype: 'FORM_SECTION',\n\t\tdesc: __(\n\t\t\t'Used for creating logical groupings for questions and form elements. Need to add a heading or description? Use the HTML form element.'\n\t\t),\n\t},\n\t{\n\t\tlabel: __('HTML Block'),\n\t\ttype: 'HTML',\n\t\tdesc: __('allows you to add HTML like headings or text paragraphs to your form'),\n\t},\n\t{\n\t\tlabel: __('Text Input'),\n\t\ttype: 'TEXT',\n\t\tdesc: __('adds a text input that only accepts plain text'),\n\t},\n\t{\n\t\tlabel: __('Plain Text Area'),\n\t\ttype: 'TEXTAREA',\n\t\tdesc: __('adds a textarea block that only accepts plain text'),\n\t},\n\t{\n\t\tlabel: __('HTML Text Area'),\n\t\ttype: 'TEXTAREA_HTML',\n\t\tdesc: __('adds a textarea block that accepts text including simple HTML markup'),\n\t},\n\t{\n\t\tlabel: __('Email Address'),\n\t\ttype: 'EMAIL',\n\t\tdesc: __('adds a text input that only accepts a valid email address'),\n\t},\n\t{\n\t\tlabel: __('Email Confirmation'),\n\t\ttype: 'EMAIL_CONFIRMATION',\n\t\tdesc: 'adds a text input that confirms the entered email address matches the value entered into another email address input',\n\t},\n\t{\n\t\tlabel: __('Password'),\n\t\ttype: 'PASSWORD',\n\t\tdesc: __('adds a text input that accepts text but masks what the user enters'),\n\t},\n\t{\n\t\tlabel: __('Password Confirmation'),\n\t\ttype: 'PASSWORD_CONFIRMATION',\n\t\tdesc: 'adds a text input that confirms the entered password matches the value entered into another password input',\n\t},\n\t{\n\t\tlabel: __('URL'),\n\t\ttype: 'URL',\n\t\tdesc: __('adds a text input for entering a URL address'),\n\t},\n\t{\n\t\tlabel: __('Date'),\n\t\ttype: 'DATE',\n\t\tdesc: __('adds a text input that allows users to enter a date directly via keyboard or a datepicker'),\n\t},\n\t{\n\t\tlabel: __('Local Date'),\n\t\ttype: 'DATETIME_LOCAL',\n\t\tdesc: 'adds a text input that allows users to enter a date and time (no timezone) directly via keyboard or a date/time picker',\n\t},\n\t{\n\t\tlabel: __('Month'),\n\t\ttype: 'MONTH',\n\t\tdesc: __('adds a text input that allows users to enter a month and year directly via keyboard or a datepicker'),\n\t},\n\t{\n\t\tlabel: __('Time'),\n\t\ttype: 'TIME',\n\t\tdesc: __('adds a text input that allows users to enter a time directly via keyboard or a timepicker'),\n\t},\n\t{\n\t\tlabel: __('Week'),\n\t\ttype: 'WEEK',\n\t\tdesc: __('adds a text input that allows users to enter a week and year directly via keyboard or a datepicker'),\n\t},\n\t{\n\t\tlabel: __('Day Selector'),\n\t\ttype: 'DAY_SELECT',\n\t\tdesc: __('adds a dropdown selector that allows users to select the day of the month (01 to 31)'),\n\t},\n\t{\n\t\tlabel: __('Month Selector'),\n\t\ttype: 'MONTH_SELECT',\n\t\tdesc: __('adds a dropdown selector that allows users to select the month of the year (01 to 12)'),\n\t},\n\t{\n\t\tlabel: __('Year Selector'),\n\t\ttype: 'YEAR_SELECT',\n\t\tdesc: __('adds a dropdown selector that allows users to select the year from a configurable range'),\n\t},\n\t{\n\t\tlabel: __('Radio Buttons'),\n\t\ttype: 'RADIO',\n\t\tdesc: __('adds one or more radio buttons that allow users to only select one option from those provided'),\n\t},\n\t{\n\t\tlabel: __('Decimal Number'),\n\t\ttype: 'DECIMAL',\n\t\tdesc: __('adds a text input that only accepts numbers whose value is a decimal (float)'),\n\t},\n\t{\n\t\tlabel: __('Whole Number'),\n\t\ttype: 'INTEGER',\n\t\tdesc: __('adds a text input that only accepts numbers whose value is an integer (whole number)'),\n\t},\n\t{\n\t\tlabel: __('Number Range'),\n\t\ttype: 'RANGE',\n\t\tdesc: 'adds a slider input that can be used to indicate a number range for setting a minimum and maximum values',\n\t},\n\t{\n\t\tlabel: __('Phone Number'),\n\t\ttype: 'TEL',\n\t\tdesc: 'adds a text field for entering a telephone number. Can be configured to only accept input that matches a pattern',\n\t},\n\t{\n\t\tlabel: __('Dropdown'),\n\t\ttype: 'SELECT',\n\t\tdesc: __('adds a dropdown selector that accepts a single value'),\n\t},\n\t{\n\t\tlabel: __('Multi Select'),\n\t\ttype: 'SELECT_MULTI',\n\t\tdesc: __('adds a dropdown selector that accepts multiple values'),\n\t},\n\t{\n\t\tlabel: __('Toggle/Switch'),\n\t\ttype: 'SWITCH',\n\t\tdesc: __('adds a toggle or a switch to accept true or false value'),\n\t},\n\t{\n\t\tlabel: __('Multi Checkbox'),\n\t\ttype: 'CHECKBOX_MULTI',\n\t\tdesc: __('adds checkboxes that allow users to select zero or more options from those provided'),\n\t},\n\t{\n\t\tlabel: __('Country Selector'),\n\t\ttype: 'SELECT_COUNTRY',\n\t\tdesc: __('adds a dropdown selector populated with names of countries that are enabled for the site'),\n\t},\n\t{\n\t\tlabel: __('State Selector'),\n\t\ttype: 'SELECT_STATE',\n\t\tdesc: 'adds a dropdown selector populated with names of states/provinces for the countries that are enabled for the site',\n\t},\n\t{\n\t\tlabel: __('Button'),\n\t\ttype: 'BUTTON',\n\t\tdesc: __('adds a button to the form that can be used for triggering fucntionality (requires custom coding)'),\n\t},\n\t{\n\t\tlabel: __('Reset Button'),\n\t\ttype: 'RESET',\n\t\tdesc: __('adds a button that will reset the form back to its original state.'),\n\t},\n];\n\nexport const ELEMENT_BLOCKS_INDEXED = R.indexBy(R.prop('type'), ELEMENT_BLOCKS);\n\nexport const ELEMENT_BLOCKS_OPTIONS = ELEMENT_BLOCKS.map<OptionsType[number]>(({ label, type: value }) => ({\n\tlabel,\n\tvalue,\n}));\n","import { useCallback } from 'react';\nimport * as R from 'ramda';\n\nimport { isEqualJson } from '@eventespresso/utils';\n\nimport { FormStateReducer, StateInitializer, FormState } from './types';\nimport {\n\taddElementToState,\n\taddSectionToState,\n\tcopySectionElements,\n\tdeleteElement,\n\tdeleteSection,\n\tdeleteSectionElements,\n\tmaybeSetTopLevelSection,\n\tmoveElement,\n\tmoveSection,\n\tomitLocalFields,\n\tprepareNewElement,\n\tprepareNewSection,\n} from './utils';\nimport { FormElement, FormSection } from '../types';\n\nexport const initialState: FormState = {\n\telements: {},\n\tsections: {},\n\tdeletedElements: [],\n\tdeletedSections: [],\n\ttopLevelSection: '',\n\tisDirty: false,\n\topenElement: '',\n};\n\nexport const useFormStateReducer = (initializer: StateInitializer): FormStateReducer => {\n\treturn useCallback<FormStateReducer>(\n\t\t(state, action) => {\n\t\t\tconst { id, afterId, section, element, type, index, sectionId, openElement } = action;\n\n\t\t\t// List of predicates that will be applied/composed to the state to produce the new state\n\t\t\t// Each case below provides that list of predicates\n\t\t\tlet predicates: Array<(state: FormState) => FormState> = [];\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'ADD_SECTION': {\n\t\t\t\t\tconst newSection: FormSection = prepareNewSection(section, state.topLevelSection);\n\t\t\t\t\tpredicates = [addSectionToState(newSection, afterId), maybeSetTopLevelSection(newSection.id)];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'COPY_SECTION': {\n\t\t\t\t\t// Copied section will be composed of the existing section\n\t\t\t\t\tconst newSection = prepareNewSection({ ...state.sections[id], ...section });\n\t\t\t\t\tpredicates = [addSectionToState(newSection, afterId || id), copySectionElements(id, newSection.id)];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'MOVE_SECTION': {\n\t\t\t\t\tpredicates = [moveSection(id, index)];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'UPDATE_SECTION': {\n\t\t\t\t\t// Update and mark the section as modified\n\t\t\t\t\tconst newSection: Partial<FormSection> = { ...section, id, isModified: true };\n\t\t\t\t\tpredicates = [R.over(R.lensPath(['sections', id]), R.mergeDeepLeft(newSection))];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'DELETE_SECTION': {\n\t\t\t\t\tpredicates = [deleteSection(id), deleteSectionElements(id)];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'MARK_SECTION_AS_SAVED': {\n\t\t\t\t\tpredicates = [\n\t\t\t\t\t\tR.over(R.lensPath(['sections', id]), (existingSection) => {\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * Here we need to properly handle the case for modifications\n\t\t\t\t\t\t\t * while the section was being saved.\n\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t * if the user made changes after the save request was fired, then we again need to\n\t\t\t\t\t\t\t * mark the section as modified.\n\t\t\t\t\t\t\t * We can do so by matching the passed section with the one in current state\n\t\t\t\t\t\t\t * If the their JSON is different, it means it was modified after the save request was fired\n\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t * It is expected that a complete section is passed back when marking a section as saved\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tconst isModified = !isEqualJson(section, existingSection);\n\t\t\t\t\t\t\t// get rid of `isModified` and `isNew` flags\n\t\t\t\t\t\t\tconst newSection = omitLocalFields(existingSection);\n\t\t\t\t\t\t\treturn { ...newSection, isModified };\n\t\t\t\t\t\t}),\n\t\t\t\t\t];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'MARK_SECTION_AS_DELETED': {\n\t\t\t\t\tpredicates = [R.over(R.lensPath(['deletedSections']), R.without([id]))];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'ADD_ELEMENT': {\n\t\t\t\t\tconst newElement = prepareNewElement(element);\n\t\t\t\t\tpredicates = [addElementToState(newElement)];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'COPY_ELEMENT': {\n\t\t\t\t\t// Copied element will be composed of the existing element\n\t\t\t\t\tconst newElement = prepareNewElement(state.elements[id]);\n\t\t\t\t\tpredicates = [addElementToState(newElement, afterId || id)];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'MOVE_ELEMENT': {\n\t\t\t\t\tpredicates = [moveElement(id, index, sectionId)];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'UPDATE_ELEMENT': {\n\t\t\t\t\t// Update and mark the element as modified\n\t\t\t\t\tconst newElement: Partial<FormElement> = { ...element, id, isModified: true };\n\t\t\t\t\t// R.mergeDeepLeft types don't play nice with nested `options` field of the element, thus casted as 'any'\n\t\t\t\t\tpredicates = [R.over(R.lensPath(['elements', id]), R.mergeDeepLeft(newElement) as any)];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'DELETE_ELEMENT':\n\t\t\t\t\tpredicates = [deleteElement(id)];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'MARK_ELEMENT_AS_SAVED': {\n\t\t\t\t\tpredicates = [\n\t\t\t\t\t\tR.over(R.lensPath(['elements', id]), (existingElement) => {\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * See 'MARK_SECTION_AS_SAVED' case above\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tconst isModified = !isEqualJson(element, existingElement);\n\t\t\t\t\t\t\t// get rid of `isModified` and `isNew` flags\n\t\t\t\t\t\t\tconst newElement = omitLocalFields(existingElement);\n\t\t\t\t\t\t\treturn { ...newElement, isModified };\n\t\t\t\t\t\t}),\n\t\t\t\t\t];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'MARK_ELEMENT_AS_DELETED': {\n\t\t\t\t\tpredicates = [R.over(R.lensPath(['deletedElements']), R.without([id]))];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'TOGGLE_OPEN_ELEMENT':\n\t\t\t\t\tpredicates = [\n\t\t\t\t\t\tR.set(R.lensPath(['openElement']), openElement !== state.openElement ? openElement : ''),\n\t\t\t\t\t];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RESET':\n\t\t\t\t\treturn initializer(initialState);\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('Unexpected action');\n\t\t\t}\n\t\t\t// @ts-ignore - compose TS is not happy with unknown number of arguments\n\t\t\tconst newState = R.compose(...predicates)(state);\n\n\t\t\treturn { ...newState, isDirty: true };\n\t\t},\n\t\t[initializer]\n\t);\n};\n","import { useCallback, useEffect, useMemo, useReducer } from 'react';\nimport * as R from 'ramda';\n\nimport { sortByOrder, isNotSharedOrDefault, isShared } from '@eventespresso/predicates';\n\nimport type { FormStateManager, FormStateManagerHook } from './types';\nimport { useFormStateReducer, initialState } from './useFormStateReducer';\nimport { useInitialState } from './useInitialState';\n\ntype FSM = FormStateManager;\n\nexport const useFormStateManager: FormStateManagerHook = ({ onChange, appliesToOptions, mapsToOptions, ...props }) => {\n\tconst initializer = useInitialState(props);\n\tconst reducer = useFormStateReducer(initializer);\n\tconst [state, dispatch] = useReducer(reducer, initialState, initializer);\n\n\tuseEffect(() => {\n\t\tonChange?.(state);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [state]);\n\n\tconst getData = useCallback<FSM['getData']>(() => state, [state]);\n\n\tconst getSections = useCallback<FSM['getSections']>(() => {\n\t\tconst sections = Object.values(state.sections).filter(isNotSharedOrDefault);\n\t\treturn sortByOrder(sections);\n\t}, [state.sections]);\n\n\tconst getSharedSections = useCallback<FSM['getSharedSections']>(() => {\n\t\treturn Object.values(state.sections).filter(isShared);\n\t}, [state.sections]);\n\n\tconst getElements = useCallback<FSM['getElements']>(\n\t\t({ sectionId }) => {\n\t\t\tlet elements = Object.values(state.elements);\n\t\t\tif (sectionId) {\n\t\t\t\telements = elements.filter(R.propEq('belongsTo', sectionId));\n\t\t\t}\n\t\t\treturn sortByOrder(elements);\n\t\t},\n\t\t[state.elements]\n\t);\n\n\tconst addSection = useCallback<FSM['addSection']>(({ section, afterId }) => {\n\t\tdispatch({\n\t\t\ttype: 'ADD_SECTION',\n\t\t\tafterId,\n\t\t\tsection,\n\t\t});\n\t}, []);\n\n\tconst copySection = useCallback<FSM['copySection']>(({ id, section, afterId }) => {\n\t\tdispatch({\n\t\t\ttype: 'COPY_SECTION',\n\t\t\tid,\n\t\t\tsection,\n\t\t\tafterId,\n\t\t});\n\t}, []);\n\n\tconst moveSection = useCallback<FSM['moveSection']>(({ id, index }) => {\n\t\tdispatch({\n\t\t\ttype: 'MOVE_SECTION',\n\t\t\tid,\n\t\t\tindex,\n\t\t});\n\t}, []);\n\n\tconst updateSection = useCallback<FSM['updateSection']>(({ id, section }) => {\n\t\tdispatch({\n\t\t\ttype: 'UPDATE_SECTION',\n\t\t\tid,\n\t\t\tsection,\n\t\t});\n\t}, []);\n\n\tconst deleteSection = useCallback<FSM['deleteSection']>(({ id }) => {\n\t\tdispatch({\n\t\t\ttype: 'DELETE_SECTION',\n\t\t\tid,\n\t\t});\n\t}, []);\n\n\tconst markSectionAsSaved = useCallback<FSM['markSectionAsSaved']>(({ id, section }) => {\n\t\tdispatch({\n\t\t\ttype: 'MARK_SECTION_AS_SAVED',\n\t\t\tid,\n\t\t\tsection,\n\t\t});\n\t}, []);\n\n\tconst markSectionAsDeleted = useCallback<FSM['markSectionAsDeleted']>(({ id }) => {\n\t\tdispatch({\n\t\t\ttype: 'MARK_SECTION_AS_DELETED',\n\t\t\tid,\n\t\t});\n\t}, []);\n\n\tconst addElement = useCallback<FSM['addElement']>(({ element }) => {\n\t\tdispatch({\n\t\t\ttype: 'ADD_ELEMENT',\n\t\t\telement,\n\t\t});\n\t}, []);\n\n\tconst copyElement = useCallback<FSM['copyElement']>(({ id }) => {\n\t\tdispatch({\n\t\t\ttype: 'COPY_ELEMENT',\n\t\t\tid,\n\t\t});\n\t}, []);\n\n\tconst moveElement = useCallback<FSM['moveElement']>(({ id, index, sectionId }) => {\n\t\tdispatch({\n\t\t\ttype: 'MOVE_ELEMENT',\n\t\t\tid,\n\t\t\tindex,\n\t\t\tsectionId,\n\t\t});\n\t}, []);\n\n\tconst updateElement = useCallback<FSM['updateElement']>(({ id, element }) => {\n\t\tdispatch({\n\t\t\ttype: 'UPDATE_ELEMENT',\n\t\t\tid,\n\t\t\telement,\n\t\t});\n\t}, []);\n\n\tconst deleteElement = useCallback<FSM['deleteElement']>(({ id }) => {\n\t\tdispatch({\n\t\t\ttype: 'DELETE_ELEMENT',\n\t\t\tid,\n\t\t});\n\t}, []);\n\n\tconst markElementAsSaved = useCallback<FSM['markElementAsSaved']>(({ id, element }) => {\n\t\tdispatch({\n\t\t\ttype: 'MARK_ELEMENT_AS_SAVED',\n\t\t\tid,\n\t\t\telement,\n\t\t});\n\t}, []);\n\n\tconst markElementAsDeleted = useCallback<FSM['markElementAsDeleted']>(({ id }) => {\n\t\tdispatch({\n\t\t\ttype: 'MARK_ELEMENT_AS_DELETED',\n\t\t\tid,\n\t\t});\n\t}, []);\n\n\tconst isElementOpen = useCallback<FSM['isElementOpen']>(({ id }) => id === state.openElement, [state.openElement]);\n\n\tconst isTopLevelSection = useCallback<FSM['isTopLevelSection']>(\n\t\t({ id }) => id === state.topLevelSection,\n\t\t[state.topLevelSection]\n\t);\n\n\tconst toggleOpenElement = useCallback<FSM['toggleOpenElement']>(({ openElement }) => {\n\t\tdispatch({\n\t\t\ttype: 'TOGGLE_OPEN_ELEMENT',\n\t\t\topenElement,\n\t\t});\n\t}, []);\n\n\tconst reset = useCallback<FSM['reset']>(() => {\n\t\tdispatch({ type: 'RESET' });\n\t}, []);\n\n\treturn useMemo<FSM>(\n\t\t() => ({\n\t\t\t...state,\n\t\t\taddElement,\n\t\t\taddSection,\n\t\t\tappliesToOptions,\n\t\t\tcopyElement,\n\t\t\tcopySection,\n\t\t\tdeleteElement,\n\t\t\tdeleteSection,\n\t\t\tgetData,\n\t\t\tgetElements,\n\t\t\tgetSections,\n\t\t\tgetSharedSections,\n\t\t\tisElementOpen,\n\t\t\tisTopLevelSection,\n\t\t\tmapsToOptions,\n\t\t\tmarkElementAsDeleted,\n\t\t\tmarkElementAsSaved,\n\t\t\tmarkSectionAsDeleted,\n\t\t\tmarkSectionAsSaved,\n\t\t\tmoveElement,\n\t\t\tmoveSection,\n\t\t\treset,\n\t\t\ttoggleOpenElement,\n\t\t\tupdateElement,\n\t\t\tupdateSection,\n\t\t}),\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t[state]\n\t);\n};\n","import { useCallback } from 'react';\nimport * as R from 'ramda';\n\nimport type { StateInitializer } from './types';\nimport type { FormSection } from '../types';\nimport type { FormStateProviderProps } from '../context';\nimport { belongsToNone, parseRawElement, parseRawSection } from './utils';\n\nexport type UseInitialState = (props: Omit<FormStateProviderProps, 'onChange'>) => StateInitializer;\n\n/**\n * Initializes the data state dynamically.\n */\nexport const useInitialState: UseInitialState = ({ initialElements, initialSections, topLevelSectionId }) => {\n\treturn useCallback<StateInitializer>(\n\t\t(initialState) => {\n\t\t\tconst parsedElements = (initialElements || []).map(parseRawElement);\n\t\t\tconst parsedSections = (initialSections || []).map(parseRawSection);\n\n\t\t\t/**\n\t\t\t * If `topLevelSectionId` is not provided\n\t\t\t * extract the top level section ID from the given sections\n\t\t\t * It finds the first section that has no `belongsTo` field set\n\t\t\t */\n\t\t\tconst topLevelSection = topLevelSectionId || R.find<FormSection>(belongsToNone, parsedSections)?.id;\n\n\t\t\tconst elements = R.indexBy(R.prop('id'), parsedElements);\n\t\t\tconst sections = R.indexBy(R.prop('id'), parsedSections);\n\n\t\t\treturn { ...initialState, topLevelSection, sections, elements };\n\t\t},\n\t\t[initialElements, initialSections, topLevelSectionId]\n\t);\n};\n","import { createContext } from 'react';\n\nimport type { OptionsType } from '@eventespresso/adapters';\n\nimport { FormState, FormStateManager, useFormStateManager } from '../state';\nimport { FormSectionRaw, FormElementRaw } from '../types';\n\nconst FormStateContext = createContext<FormStateManager>(null);\n\nconst { Provider, Consumer: FormStateConsumer } = FormStateContext;\n\nexport interface FormStateProviderProps {\n\tappliesToOptions?: OptionsType;\n\tinitialElements?: Array<FormElementRaw>;\n\tinitialSections?: Array<FormSectionRaw>;\n\tmapsToOptions?: OptionsType;\n\ttopLevelSectionId?: string;\n\tonChange?: (data: FormState) => void;\n}\n\nconst FormStateProvider: React.FC<FormStateProviderProps> = ({ children, ...props }) => {\n\tconst data = useFormStateManager(props);\n\n\treturn <Provider value={data}>{children}</Provider>;\n};\n\nexport { FormStateContext, FormStateProvider, FormStateConsumer };\n","import { useContext } from 'react';\nimport invariant from 'invariant';\n\nimport { FormStateContext } from '../context';\nimport type { FormStateManager } from './types';\n\nexport const useFormState = (): FormStateManager => {\n\tconst state = useContext(FormStateContext);\n\n\tinvariant(state, 'useFormState must be used inside FormStateProvider');\n\n\treturn state;\n};\n","import { useCallback, useMemo, useState } from 'react';\nimport * as R from 'ramda';\n\nimport { __ } from '@eventespresso/i18n';\nimport { Plus } from '@eventespresso/icons';\nimport { useDisclosure } from '@eventespresso/hooks';\nimport { Button, Heading, Popover, SelectWithLabel, SelectProps } from '@eventespresso/ui-components';\n\nimport { ELEMENT_BLOCKS_OPTIONS } from '../constants';\nimport { useFormState } from '../state';\nimport { FormSection, ElementType } from '../types';\n\ninterface SidebarProps {\n\tclassName?: string;\n\tformSection: FormSection;\n}\n\nexport const AddFormElementPopover: React.FC<SidebarProps> = ({ formSection }) => {\n\tconst { isOpen, onOpen, onClose } = useDisclosure();\n\tconst { addSection, copySection, addElement, getSharedSections } = useFormState();\n\n\tconst sharedSections = getSharedSections();\n\n\tconst sharedSectionOptions = useMemo(() => {\n\t\treturn sharedSections.map(({ id, label }) => {\n\t\t\treturn {\n\t\t\t\tlabel: label?.adminLabel || label?.publicLabel,\n\t\t\t\tvalue: id,\n\t\t\t};\n\t\t});\n\t}, [sharedSections]);\n\n\tconst [selectedElement, setSelectedElement] = useState<ElementType>('FORM_SECTION');\n\tconst [selectedSection, setSelectedSection] = useState(sharedSectionOptions[0]?.value || '');\n\n\tconst onAddElement = useCallback(() => {\n\t\tif (selectedElement === 'FORM_SECTION') {\n\t\t\taddSection({ afterId: formSection.id, section: {} });\n\t\t} else {\n\t\t\taddElement({ element: { type: selectedElement, belongsTo: formSection.id } });\n\t\t}\n\t\tonClose();\n\t}, [addElement, addSection, formSection.id, onClose, selectedElement]);\n\n\tconst onAddExistingSection = useCallback(() => {\n\t\t// find the section by its ID\n\t\tlet section = R.find<FormSection>(R.propEq('id', selectedSection), sharedSections);\n\t\tif (section) {\n\t\t\t// make sure that new status is not 'SHARED' and `belongsTo` is not set\n\t\t\t// just to let the reducer to add `belongsTo` as the `topLevelSection`\n\t\t\tsection = { ...R.omit(['belongsTo'], section), status: 'ACTIVE' };\n\t\t\tcopySection({ id: selectedSection, section, afterId: formSection.id });\n\t\t}\n\t\tonClose();\n\t}, [copySection, formSection.id, onClose, selectedSection, sharedSections]);\n\n\tconst onChangeElement = useCallback<SelectProps['onChangeValue']>((value) => {\n\t\tsetSelectedElement(value as ElementType);\n\t}, []);\n\tconst onChangeSection = useCallback<SelectProps['onChangeValue']>((value) => {\n\t\tsetSelectedSection(value as string);\n\t}, []);\n\n\tconst tabIndex = isOpen ? 0 : -1;\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName={'ee-add-form-element__popover'}\n\t\t\tcontentClassName={'ee-add-form-element__content'}\n\t\t\theader={<Heading as='h5'>{__('Add Form Element')}</Heading>}\n\t\t\tisOpen={isOpen}\n\t\t\tonClose={onClose}\n\t\t\tplacement='top-end'\n\t\t\ttrigger={\n\t\t\t\t<Button\n\t\t\t\t\tbuttonText={__('Add Form Element')}\n\t\t\t\t\tclassName={'ee-add-form-element__trigger'}\n\t\t\t\t\ticon={Plus}\n\t\t\t\t\tonClick={onOpen}\n\t\t\t\t\tsize='small'\n\t\t\t\t/>\n\t\t\t}\n\t\t>\n\t\t\t<p>\n\t\t\t\t{__(\n\t\t\t\t\t'form element order can be changed after adding by using the drag handles in the form element toolbar'\n\t\t\t\t)}\n\t\t\t</p>\n\t\t\t<div className={'ee-add-form-element__option'}>\n\t\t\t\t<SelectWithLabel\n\t\t\t\t\tid={`${formSection.id}-load-existing-section-selector`}\n\t\t\t\t\tlabel={__('load existing form section')}\n\t\t\t\t\toptions={sharedSectionOptions}\n\t\t\t\t\tonChangeValue={onChangeSection}\n\t\t\t\t\tsize='small'\n\t\t\t\t\ttabIndex={tabIndex}\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tbuttonText={__('Add')}\n\t\t\t\t\tisDisabled={!selectedSection}\n\t\t\t\t\tonClick={onAddExistingSection}\n\t\t\t\t\tbuttonType='primary'\n\t\t\t\t\tsize='small'\n\t\t\t\t\ttabIndex={tabIndex}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className={'ee-add-form-element__option'}>\n\t\t\t\t<SelectWithLabel\n\t\t\t\t\tid={`${formSection.id}-add-new-section-selector`}\n\t\t\t\t\tlabel={__('add new form element')}\n\t\t\t\t\toptions={ELEMENT_BLOCKS_OPTIONS}\n\t\t\t\t\tonChangeValue={onChangeElement}\n\t\t\t\t\tsize='small'\n\t\t\t\t\ttabIndex={tabIndex}\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tbuttonText={__('Add')}\n\t\t\t\t\tonClick={onAddElement}\n\t\t\t\t\tbuttonType='primary'\n\t\t\t\t\tsize='small'\n\t\t\t\t\ttabIndex={tabIndex}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Popover>\n\t);\n};\n","import withClassName from '../withClassName';\nimport { IconProps } from '../types';\n\nconst SettingsOutlined = (props: IconProps): JSX.Element => {\n\treturn (\n\t\t<svg\n\t\t\taria-hidden='true'\n\t\t\tcolor='currentColor'\n\t\t\theight='1.5em'\n\t\t\tviewBox='0 0 512 512'\n\t\t\twidth='1.5em'\n\t\t\txmlns='http://www.w3.org/2000/svg'\n\t\t\tclassName='ee-svg--settings-outlined'\n\t\t\t{...props}\n\t\t>\n\t\t\t<path\n\t\t\t\tfill='currentColor'\n\t\t\t\tstroke='currentColor'\n\t\t\t\td='M256 176a80 80 0 1080 80 80.24 80.24 0 00-80-80zm172.72 80a165.53 165.53 0 01-1.64 22.34l48.69 38.12a11.59 11.59 0 012.63 14.78l-46.06 79.52a11.64 11.64 0 01-14.14 4.93l-57.25-23a176.56 176.56 0 01-38.82 22.67l-8.56 60.78a11.93 11.93 0 01-11.51 9.86h-92.12a12 12 0 01-11.51-9.53l-8.56-60.78A169.3 169.3 0 01151.05 393L93.8 416a11.64 11.64 0 01-14.14-4.92L33.6 331.57a11.59 11.59 0 012.63-14.78l48.69-38.12A174.58 174.58 0 0183.28 256a165.53 165.53 0 011.64-22.34l-48.69-38.12a11.59 11.59 0 01-2.63-14.78l46.06-79.52a11.64 11.64 0 0114.14-4.93l57.25 23a176.56 176.56 0 0138.82-22.67l8.56-60.78A11.93 11.93 0 01209.94 26h92.12a12 12 0 0111.51 9.53l8.56 60.78A169.3 169.3 0 01361 119l57.2-23a11.64 11.64 0 0114.14 4.92l46.06 79.52a11.59 11.59 0 01-2.63 14.78l-48.69 38.12a174.58 174.58 0 011.64 22.66z'\n\t\t\t/>\n\t\t</svg>\n\t);\n};\n\nexport default withClassName(SettingsOutlined, 'settings-outlined');\n","import withClassName from '../withClassName';\nimport { IconProps } from '../types';\n\nconst DragHandle = (props: IconProps): JSX.Element => {\n\treturn (\n\t\t<svg\n\t\t\tcolor='currentColor'\n\t\t\tfill='currentColor'\n\t\t\taria-hidden='true'\n\t\t\theight='1.5em'\n\t\t\twidth='1.5em'\n\t\t\tviewBox='0 0 18 18'\n\t\t\tclassName='ee-svg--drag-handle'\n\t\t\t{...props}\n\t\t>\n\t\t\t<path\n\t\t\t\td='M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z'\n\t\t\t\tstroke='currentColor'\n\t\t\t\tstrokeWidth={2}\n\t\t\t/>\n\t\t</svg>\n\t);\n};\n\nexport default withClassName(DragHandle, 'drag-handle');\n","import { useCallback, useState } from 'react';\n\nimport { __ } from '@eventespresso/i18n';\nimport { Save } from '@eventespresso/icons';\nimport { RadioGroup } from '@eventespresso/adapters';\nimport { IconButton, Radio, PopoverForm, PopoverFormProps } from '@eventespresso/ui-components';\n\nimport { useFormState } from '../state';\nimport type { FormSectionProps, FormStatus } from '../types';\n\nexport const SaveSection: React.FC<FormSectionProps> = ({ formSection }) => {\n\tconst { isElementOpen, copySection } = useFormState();\n\tconst tabIndex = isElementOpen({ id: formSection.id }) ? 0 : -1;\n\n\tconst [value, setValue] = useState('SHARED');\n\tconst onSave = useCallback(() => {\n\t\t// Lets create a copy of the section with status set to the selected value\n\t\tcopySection({\n\t\t\tid: formSection.id,\n\t\t\tsection: { status: value as FormStatus, belongsTo: '', order: 0 },\n\t\t\tafterId: '',\n\t\t});\n\t}, [copySection, formSection.id, value]);\n\n\tconst renderTrigger = useCallback<PopoverFormProps['renderTrigger']>(\n\t\t({ onOpen, ...props }) => (\n\t\t\t<IconButton\n\t\t\t\t{...props}\n\t\t\t\tborderless\n\t\t\t\tclassName='ee-form-section__toolbar-button'\n\t\t\t\ticon={Save}\n\t\t\t\tonClick={onOpen}\n\t\t\t\tsize='smaller'\n\t\t\t\ttabIndex={tabIndex}\n\t\t\t\ttooltip={__('save form section for use in other forms')}\n\t\t\t\ttransparentBg\n\t\t\t/>\n\t\t),\n\t\t[tabIndex]\n\t);\n\n\tconst id = `save-section-${formSection.id}`;\n\treturn (\n\t\t<PopoverForm\n\t\t\tcloseOnBlur\n\t\t\trenderTrigger={renderTrigger}\n\t\t\ttitle={__('save form section for use in other forms')}\n\t\t\tonSubmit={onSave}\n\t\t>\n\t\t\t<label id={`${id}-label`} htmlFor={id}>\n\t\t\t\t{__('save as')}\n\t\t\t</label>\n\t\t\t<RadioGroup value={value} onChange={setValue} id={id} aria-labelledby={`${id}-label`}>\n\t\t\t\t<Radio value='DEFAULT' aria-describedby={`${id}-default-desc`}>\n\t\t\t\t\t{__('default')}\n\t\t\t\t</Radio>\n\t\t\t\t<p id={`${id}-default-desc`}>\n\t\t\t\t\t{__(' a copy of this form section will be automatically added to ALL new events')}\n\t\t\t\t</p>\n\t\t\t\t<Radio value='SHARED' aria-describedby={`${id}-shared-desc`}>\n\t\t\t\t\t{__('shared')}\n\t\t\t\t</Radio>\n\t\t\t\t<p id={`${id}-shared-desc`}>\n\t\t\t\t\t{__('a copy of this form section will be saved for use in other events but not loaded by default')}\n\t\t\t\t</p>\n\t\t\t</RadioGroup>\n\t\t</PopoverForm>\n\t);\n};\n","import { useCallback, useMemo, memo } from 'react';\n\nimport { __ } from '@eventespresso/i18n';\nimport { Copy, DragHandle, SettingsOutlined, Trash } from '@eventespresso/icons';\nimport { IconButton, ButtonProps, ConfirmDelete } from '@eventespresso/ui-components';\nimport { getPropsAreEqual } from '@eventespresso/utils';\n\nimport { useFormState } from '../state';\nimport { SaveSection } from './SaveSection';\n\nimport type { FormSectionToolbarProps } from '../types';\n\nexport const FormSectionToolbar = memo<FormSectionToolbarProps>(({ formSection, dragHandleProps }) => {\n\tconst { copySection, deleteSection, isElementOpen, isTopLevelSection, toggleOpenElement } = useFormState();\n\n\tconst { id } = formSection;\n\tconst active = isElementOpen({ id });\n\n\tconst onCopy = useCallback(() => copySection({ id, section: {}, afterId: '' }), [id, copySection]);\n\tconst onDelete = useCallback(() => deleteSection({ id }), [id, deleteSection]);\n\tconst onToggle = useCallback(() => toggleOpenElement({ openElement: id }), [id, toggleOpenElement]);\n\n\tconst tabIndex = active ? 0 : -1;\n\n\tconst deleteButtonProps = useMemo<ButtonProps>(\n\t\t() => ({\n\t\t\ticon: Trash,\n\t\t\tborderless: true,\n\t\t\tclassName: 'ee-form-section__toolbar-button',\n\t\t\tsize: 'small',\n\t\t\ttabIndex,\n\t\t\ttooltip: __('delete form section'),\n\t\t\ttransparentBg: true,\n\t\t}),\n\t\t[tabIndex]\n\t);\n\n\treturn (\n\t\t<div className={'ee-form-section__toolbar'}>\n\t\t\t<IconButton\n\t\t\t\ticon={SettingsOutlined}\n\t\t\t\tactive={active}\n\t\t\t\tborderless\n\t\t\t\tclassName='ee-form-section__menu-button ee-form-section__toolbar-button'\n\t\t\t\tonClick={onToggle}\n\t\t\t\tsize='smaller'\n\t\t\t\ttooltip={__('form section settings')}\n\t\t\t\ttransparentBg\n\t\t\t/>\n\t\t\t<IconButton\n\t\t\t\ticon={Copy}\n\t\t\t\tborderless\n\t\t\t\tclassName='ee-form-section__toolbar-button'\n\t\t\t\tonClick={onCopy}\n\t\t\t\tsize='smaller'\n\t\t\t\ttabIndex={tabIndex}\n\t\t\t\ttooltip={__('copy form section')}\n\t\t\t\ttransparentBg\n\t\t\t/>\n\t\t\t<SaveSection formSection={formSection} />\n\n\t\t\t{\n\t\t\t\t// Hide delete button for top level section\n\t\t\t\t!isTopLevelSection({ id: formSection.id }) && (\n\t\t\t\t\t<ConfirmDelete asIconButton onConfirm={onDelete} buttonProps={deleteButtonProps} />\n\t\t\t\t)\n\t\t\t}\n\t\t\t<IconButton\n\t\t\t\ticon={DragHandle}\n\t\t\t\tborderless\n\t\t\t\tclassName='ee-drag-handle ee-form-section__toolbar-button'\n\t\t\t\tsize='small'\n\t\t\t\ttabIndex={tabIndex}\n\t\t\t\ttooltip={__('click, hold, and drag to reorder form section')}\n\t\t\t\ttransparentBg\n\t\t\t\t{...dragHandleProps}\n\t\t\t/>\n\t\t</div>\n\t);\n}, getPropsAreEqual([['formSection']]));\n","import type { AnyObject } from '@eventespresso/utils';\nimport { DatePicker, MonthPicker, TimePicker } from '@eventespresso/dates';\nimport { Slider } from '@eventespresso/adapters';\nimport {\n\tButton,\n\tMultiCheckbox,\n\tMultiSelect,\n\tNumberInput,\n\tRadioGroup,\n\tSelect,\n\tSwitch,\n\tTextInput,\n\tTextarea,\n\twithLabel,\n} from '@eventespresso/ui-components';\nimport { SimpleTextEditor } from '@eventespresso/rich-text-editor';\n\nimport { ElementType } from '../types';\n\nconst DefaultComponent = () => null;\n\nexport interface MappedElementProps {\n\telementType: ElementType;\n}\n\n/**\n * This component renders the appropriate Component for the given element type.\n * The props to the Component must be passed by the consumer\n */\nconst MappedComponent: React.FC<MappedElementProps> = ({ elementType, ...props }) => {\n\tlet Component: React.ComponentType<AnyObject>;\n\n\tswitch (elementType) {\n\t\t// DATE & TIME RELATED INPUTS\n\t\tcase 'DATE':\n\t\tcase 'DATETIME_LOCAL':\n\t\t\tComponent = DatePicker;\n\t\t\tbreak;\n\t\tcase 'MONTH':\n\t\t\tComponent = MonthPicker;\n\t\t\tbreak;\n\t\tcase 'TIME':\n\t\t\tComponent = TimePicker;\n\t\t\tbreak;\n\t\t// MULTI OPTION RELATED INPUTS\n\t\tcase 'CHECKBOX_MULTI':\n\t\t\tComponent = MultiCheckbox;\n\t\t\tbreak;\n\t\tcase 'SELECT_MULTI':\n\t\t\tComponent = MultiSelect;\n\t\t\tbreak;\n\t\tcase 'RADIO':\n\t\t\tComponent = RadioGroup;\n\t\t\tbreak;\n\t\tcase 'SELECT':\n\t\tcase 'SELECT_COUNTRY':\n\t\tcase 'SELECT_STATE':\n\t\tcase 'DAY_SELECT':\n\t\tcase 'MONTH_SELECT':\n\t\tcase 'YEAR_SELECT':\n\t\t\tComponent = Select;\n\t\t\tbreak;\n\t\tcase 'SWITCH':\n\t\t\tComponent = Switch;\n\t\t\tbreak;\n\t\t// NUMERIC INPUTS\n\t\tcase 'INTEGER':\n\t\tcase 'DECIMAL':\n\t\t\tComponent = NumberInput;\n\t\t\tbreak;\n\t\tcase 'RANGE':\n\t\t\tComponent = Slider;\n\t\t\tbreak;\n\t\t// TEXT RELATED INPUTS\n\t\tcase 'EMAIL':\n\t\tcase 'EMAIL_CONFIRMATION':\n\t\tcase 'PASSWORD':\n\t\tcase 'PASSWORD_CONFIRMATION':\n\t\tcase 'TEL':\n\t\tcase 'TEXT':\n\t\tcase 'URL':\n\t\t\tComponent = TextInput;\n\t\t\tbreak;\n\t\tcase 'TEXTAREA':\n\t\tcase 'TEXTAREA_HTML':\n\t\t\tComponent = Textarea;\n\t\t\tbreak;\n\t\tcase 'HTML':\n\t\t\tComponent = SimpleTextEditor;\n\t\t\tbreak;\n\t\t// Button INPUTS\n\t\tcase 'BUTTON':\n\t\tcase 'RESET':\n\t\t\tComponent = Button;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tComponent = DefaultComponent;\n\t\t\tbreak;\n\t}\n\n\treturn <Component {...props} />;\n};\n\nexport const MappedElement = withLabel(MappedComponent);\n","import { useCallback } from 'react';\nimport * as R from 'ramda';\n\nimport { strToPath, PropsPath } from '@eventespresso/utils';\n\nimport type { FormElement } from '../types';\nimport { useFormState } from '../state';\n\ntype OnChangeValue = (field: PropsPath<FormElement>) => (value: any) => void;\n\n/**\n * Returns an onChange handler for field inputs of an element settings\n */\nexport const useUpdateElement = (element: FormElement): OnChangeValue => {\n\tconst { updateElement } = useFormState();\n\n\treturn useCallback<OnChangeValue>(\n\t\t(field) => (value) => {\n\t\t\t// create a nested object from the dotted key and value\n\t\t\tconst newElement = R.assocPath(strToPath(field), value, {});\n\t\t\tupdateElement({ id: element.id, element: newElement });\n\t\t},\n\t\t[element.id, updateElement]\n\t);\n};\n","import * as R from 'ramda';\n\nimport { BUTTON_FIELDS, DATE_FIELDS, FIELDS_WITH_OPTIONS, NUMERIC_FIELDS, TEXT_FIELDS } from './constants';\nimport { FormElement, ElementType } from './types';\n\nexport const isFieldOfType = R.curry((types: Array<ElementType>, element: FormElement) =>\n\tR.includes(element.type, types)\n);\n\nexport const isButtonField = isFieldOfType(BUTTON_FIELDS);\nexport const isDateField = isFieldOfType(DATE_FIELDS);\nexport const isFieldWithOptions = isFieldOfType(FIELDS_WITH_OPTIONS);\nexport const isNumericField = isFieldOfType(NUMERIC_FIELDS);\nexport const isTextField = isFieldOfType(TEXT_FIELDS);\nexport const isTelField = isFieldOfType(['TEL']);\n","import { memo, useMemo } from 'react';\n\nimport { FormControl, FormHelperText } from '@eventespresso/adapters';\nimport { AnyObject, getPropsAreEqual, safeNumber } from '@eventespresso/utils';\nimport { getDaysDropdownOptions, getMonthsDropdownOptions, getYearsDropdownOptions } from '@eventespresso/dates';\n\nimport { MappedElement } from './MappedElement';\nimport type { FormElementProps } from '../types';\nimport { useUpdateElement } from './useUpdateElement';\nimport { isButtonField } from '../utils';\n\nexport const FormElementInput = memo<FormElementProps>(({ element }) => {\n\tconst onChangeValue = useUpdateElement(element);\n\n\tconst label = element.label?.publicLabel || element.label?.adminLabel;\n\n\tconst props = useMemo(() => {\n\t\tlet inputProps: AnyObject = {\n\t\t\tplaceholder: element.attributes?.placeholder,\n\t\t\t// ensure that the field is not required inside form builder \n\t\t\trequired: false,\n\t\t};\n\t\tswitch (element.type) {\n\t\t\tcase 'BUTTON':\n\t\t\tcase 'RESET':\n\t\t\t\tinputProps.buttonText = label;\n\t\t\t\tbreak;\n\t\t\tcase 'CHECKBOX_MULTI':\n\t\t\tcase 'RADIO':\n\t\t\tcase 'SELECT':\n\t\t\tcase 'SELECT_MULTI':\n\t\t\t\t// Display only the options which have both value and label\n\t\t\t\tinputProps.options = (element.options || []).filter(({ value, label }) => value && label);\n\t\t\t\tbreak;\n\t\t\tcase 'SELECT_COUNTRY':\n\t\t\tcase 'SELECT_STATE':\n\t\t\t\t// TODO generate the options dynamically\n\t\t\t\tinputProps.options = element.options || [];\n\t\t\t\tbreak;\n\t\t\tcase 'DAY_SELECT':\n\t\t\t\tinputProps.options = getDaysDropdownOptions();\n\t\t\t\tbreak;\n\t\t\tcase 'MONTH_SELECT':\n\t\t\t\tinputProps.options = getMonthsDropdownOptions();\n\t\t\t\tbreak;\n\t\t\tcase 'YEAR_SELECT':\n\t\t\t\t// TODO add configuration for this dropdown\n\t\t\t\tinputProps.options = getYearsDropdownOptions({ endYear: 'current' });\n\t\t\t\tbreak;\n\t\t\tcase 'DATE':\n\t\t\tcase 'DATETIME_LOCAL':\n\t\t\tcase 'MONTH':\n\t\t\tcase 'WEEK':\n\t\t\tcase 'TIME':\n\t\t\t\tinputProps = {\n\t\t\t\t\t...inputProps,\n\t\t\t\t\t// Datepicker has to be controlled, so we need to pass the value and onChange\n\t\t\t\t\tvalue: element.value,\n\t\t\t\t\tonChange: onChangeValue('value'),\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 'EMAIL':\n\t\t\tcase 'PASSWORD':\n\t\t\tcase 'TEL':\n\t\t\tcase 'TEXT':\n\t\t\tcase 'URL':\n\t\t\t\tinputProps.type = element.type.toLowerCase();\n\t\t\t\tbreak;\n\t\t\tcase 'EMAIL_CONFIRMATION':\n\t\t\t\tinputProps.type = 'email';\n\t\t\t\tbreak;\n\t\t\tcase 'PASSWORD_CONFIRMATION':\n\t\t\t\tinputProps.type = 'password';\n\t\t\t\tbreak;\n\t\t\tcase 'DECIMAL':\n\t\t\tcase 'INTEGER':\n\t\t\tcase 'RANGE':\n\t\t\t\t// ensure that min/max is number and not NaN\n\t\t\t\tinputProps.min = safeNumber(element.attributes?.min);\n\t\t\t\tinputProps.max = safeNumber(element.attributes?.max);\n\t\t\t\tinputProps.step = safeNumber(element.attributes?.step);\n\t\t\t\tinputProps.size = safeNumber(element.attributes?.size);\n\t\t\t\tbreak;\n\t\t\tcase 'HTML':\n\t\t\t\tinputProps.value = element.label?.html;\n\t\t\t\tinputProps.toolbarHidden = true;\n\t\t\t\tinputProps.readonly = true;\n\t\t\t\tinputProps.isDisabled = true;\n\t\t\t\tbreak;\n\t\t}\n\t\treturn inputProps;\n\t}, [element, label, onChangeValue]);\n\n\treturn (\n\t\t<FormControl className='ee-form-element__input'>\n\t\t\t<MappedElement\n\t\t\t\telementType={element.type}\n\t\t\t\tid={element.id}\n\t\t\t\tisRequired={element.required?.required}\n\t\t\t\t// Buttons do not need external label\n\t\t\t\tlabel={isButtonField(element) ? null : label}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t\t{element.helpText?.helpText && <FormHelperText>{element.helpText?.helpText}</FormHelperText>}\n\t\t</FormControl>\n\t);\n}, getPropsAreEqual([['element']]));\n","import { memo, useCallback, useMemo } from 'react';\n\nimport { __ } from '@eventespresso/i18n';\nimport { Copy, DragHandle, SettingsOutlined, Trash } from '@eventespresso/icons';\nimport { IconButton, ButtonProps, ConfirmDelete } from '@eventespresso/ui-components';\nimport { getPropsAreEqual } from '@eventespresso/utils';\n\nimport { ELEMENT_BLOCKS_INDEXED } from '../constants';\nimport { useFormState } from '../state';\n\nimport type { FormElementToolbarProps } from '../types';\n\nexport const FormElementToolbar = memo<FormElementToolbarProps>(({ element, dragHandleProps }) => {\n\tconst { copyElement, deleteElement, isElementOpen, toggleOpenElement } = useFormState();\n\tconst { id } = element;\n\tconst active = isElementOpen({ id });\n\tconst elementTypeLabel = ELEMENT_BLOCKS_INDEXED[element.type]?.label || '';\n\n\tconst onCopy = useCallback(() => copyElement({ id }), [id, copyElement]);\n\tconst onDelete = useCallback(() => deleteElement({ id }), [id, deleteElement]);\n\tconst onToggle = useCallback(() => toggleOpenElement({ openElement: id }), [id, toggleOpenElement]);\n\n\tconst tabIndex = active ? 0 : -1;\n\n\tconst deleteButtonProps = useMemo<ButtonProps>(\n\t\t() => ({\n\t\t\ticon: Trash,\n\t\t\tborderless: true,\n\t\t\tclassName: 'ee-form-element__toolbar-button',\n\t\t\tsize: 'smaller',\n\t\t\ttabIndex,\n\t\t\ttooltip: __('delete form element'),\n\t\t\ttransparentBg: true,\n\t\t}),\n\t\t[tabIndex]\n\t);\n\n\treturn (\n\t\t<div className='ee-form-element__toolbar'>\n\t\t\t<div className='ee-form-element__type'>{elementTypeLabel}</div>\n\t\t\t<div className='ee-form-element__toolbar-actions'>\n\t\t\t\t<IconButton\n\t\t\t\t\tactive={active}\n\t\t\t\t\tborderless\n\t\t\t\t\tclassName='ee-form-element__menu-button ee-form-element__toolbar-button'\n\t\t\t\t\ticon={SettingsOutlined}\n\t\t\t\t\tonClick={onToggle}\n\t\t\t\t\tsize='small'\n\t\t\t\t\ttooltip={__('form element settings')}\n\t\t\t\t\ttransparentBg\n\t\t\t\t/>\n\t\t\t\t<IconButton\n\t\t\t\t\ticon={Copy}\n\t\t\t\t\tborderless\n\t\t\t\t\tclassName='ee-form-element__toolbar-button'\n\t\t\t\t\tsize='smaller'\n\t\t\t\t\tonClick={onCopy}\n\t\t\t\t\ttabIndex={tabIndex}\n\t\t\t\t\ttooltip={__('copy form element')}\n\t\t\t\t\ttransparentBg\n\t\t\t\t/>\n\t\t\t\t<ConfirmDelete asIconButton onConfirm={onDelete} buttonProps={deleteButtonProps} />\n\t\t\t\t<IconButton\n\t\t\t\t\ticon={DragHandle}\n\t\t\t\t\tborderless\n\t\t\t\t\tclassName='ee-drag-handle ee-form-element__toolbar-button'\n\t\t\t\t\tsize='smaller'\n\t\t\t\t\ttabIndex={tabIndex}\n\t\t\t\t\ttooltip={__('click, hold, and drag to reorder form element')}\n\t\t\t\t\ttransparentBg\n\t\t\t\t\t{...dragHandleProps}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}, getPropsAreEqual([['element']]));\n","import withClassName from '../withClassName';\nimport { IconProps } from '../types';\n\nconst Palette = (props: IconProps): JSX.Element => {\n\treturn (\n\t\t<svg\n\t\t\taria-hidden='true'\n\t\t\theight='1.5em'\n\t\t\tviewBox='0 0 512 512'\n\t\t\twidth='1.5em'\n\t\t\txmlns='http://www.w3.org/2000/svg'\n\t\t\tclassName='ee-svg--palette'\n\t\t\t{...props}\n\t\t>\n\t\t\t<path d='M430.11 347.9c-6.6-6.1-16.3-7.6-24.6-9-11.5-1.9-15.9-4-22.6-10-14.3-12.7-14.3-31.1 0-43.8l30.3-26.9c46.4-41 46.4-108.2 0-149.2-34.2-30.1-80.1-45-127.8-45-55.7 0-113.9 20.3-158.8 60.1-83.5 73.8-83.5 194.7 0 268.5 41.5 36.7 97.5 55 152.9 55.4h1.7c55.4 0 110-17.9 148.8-52.4 14.4-12.7 11.99-36.6.1-47.7z' />\n\t\t\t<circle cx={144} cy={208} r={32} fill='var(--ee-background-color)' />\n\t\t\t<circle cx={152} cy={311} r={32} fill='var(--ee-background-color)' />\n\t\t\t<circle cx={224} cy={144} r={32} fill='var(--ee-background-color)' />\n\t\t\t<circle cx={256} cy={367} r={48} fill='var(--ee-background-color)' />\n\t\t\t<circle cx={328} cy={144} r={32} fill='var(--ee-background-color)' />\n\t\t</svg>\n\t);\n};\n\nexport default withClassName(Palette, 'palette');\n","import { useMemo } from 'react';\nimport classNames from 'classnames';\n\nimport { __ } from '@eventespresso/i18n';\nimport { Draggable } from '@eventespresso/adapters';\nimport { DragHandle, Trash } from '@eventespresso/icons';\nimport { ConfirmDelete, Label, TextInput, ButtonProps, IconButton } from '@eventespresso/ui-components';\n\nimport { FieldOptionProps } from '../../types';\n\nexport const FieldOption: React.FC<FieldOptionProps> = ({ index, label, onChange, onRemove, id, value }) => {\n\tconst hidden = index > 0;\n\n\tconst removeButtonProps = useMemo<ButtonProps>(\n\t\t() => ({\n\t\t\ticon: Trash,\n\t\t\tborderless: true,\n\t\t\tclassName: 'ee-field-option__remove',\n\t\t\tsize: 'small',\n\t\t\ttooltip: __('remove option'),\n\t\t\ttransparentBg: true,\n\t\t}),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<Draggable draggableId={`ee-field-option-${id}-${index}`} index={index}>\n\t\t\t{({ draggableProps, dragHandleProps, innerRef }, { isDragging }) => {\n\t\t\t\tconst className = classNames(\n\t\t\t\t\t'ee-field-option__wrapper',\n\t\t\t\t\t'ee-draggable',\n\t\t\t\t\tisDragging && 'ee-draggable--is-dragging'\n\t\t\t\t);\n\t\t\t\treturn (\n\t\t\t\t\t<div {...draggableProps} {...dragHandleProps} key={`${index}`} ref={innerRef} className={className}>\n\t\t\t\t\t\t<div className='ee-field-option'>\n\t\t\t\t\t\t\t<Label id={`ee-field-option-value-${index}`} label={__('value')} hidden={hidden} />\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tclassName='ee-field-option__value'\n\t\t\t\t\t\t\t\tid={`ee-field-option-value-${index}`}\n\t\t\t\t\t\t\t\tonChangeValue={onChange('value', index)}\n\t\t\t\t\t\t\t\tplaceholder={__('value')}\n\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='ee-field-option'>\n\t\t\t\t\t\t\t<Label id={`ee-field-option-label-${index}`} label={__('label')} hidden={hidden} />\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tclassName='ee-field-option__label'\n\t\t\t\t\t\t\t\tid={`ee-field-option-label-${index}`}\n\t\t\t\t\t\t\t\tonChangeValue={onChange('label', index)}\n\t\t\t\t\t\t\t\tplaceholder={__('label')}\n\t\t\t\t\t\t\t\tvalue={label as string}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='ee-field-option ee-field-option__actions'>\n\t\t\t\t\t\t\t<ConfirmDelete asIconButton onConfirm={onRemove(index)} buttonProps={removeButtonProps} />\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\ticon={DragHandle}\n\t\t\t\t\t\t\t\tborderless\n\t\t\t\t\t\t\t\tclassName='ee-field-option__drag ee-drag-handle'\n\t\t\t\t\t\t\t\tsize='smaller'\n\t\t\t\t\t\t\t\ttooltip={__('click, hold, and drag to reorder field option')}\n\t\t\t\t\t\t\t\ttransparentBg\n\t\t\t\t\t\t\t\t{...dragHandleProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}}\n\t\t</Draggable>\n\t);\n};\n","import { useCallback } from 'react';\nimport classNames from 'classnames';\nimport * as R from 'ramda';\n\nimport { __ } from '@eventespresso/i18n';\nimport { Plus } from '@eventespresso/icons';\nimport { DragDropContext, Droppable, DragDropContextProps as DnDProps } from '@eventespresso/adapters';\nimport { Button, withLabel } from '@eventespresso/ui-components';\n\nimport { FieldOption } from './FieldOption';\nimport { FormElementProps } from '../../types';\nimport { useUpdateElement } from '../useUpdateElement';\n\nconst FieldOptions: React.FC<FormElementProps> = ({ element }) => {\n\tconst updateElement = useUpdateElement(element);\n\n\tconst onChangeOptionInput = useCallback(\n\t\t(key: 'value' | 'label', index: number) => (value: string) => {\n\t\t\t// if it's the 'value' field, accept only letters, numbers, underscore and hyphen\n\t\t\tconst safeValue = key === 'value' ? value.replace(/[^\\w-]/g, '') : value;\n\t\t\t// Update the option at specified index\n\t\t\tconst newOptions = R.adjust(index, R.assoc(key, safeValue), element.options || []);\n\t\t\tupdateElement('options')(newOptions);\n\t\t},\n\t\t[element.options, updateElement]\n\t);\n\n\tconst onRemoveOption = useCallback(\n\t\t(index: number) => () => {\n\t\t\tconst newOptions = R.remove(index, 1, element.options || []);\n\t\t\tupdateElement('options')(newOptions);\n\t\t},\n\t\t[element.options, updateElement]\n\t);\n\n\tconst onAddOption = useCallback(() => {\n\t\tconst newOptions = [...(element.options || []), { value: '', label: '' }];\n\t\tupdateElement('options')(newOptions);\n\t}, [element.options, updateElement]);\n\n\tconst droppableId = `ee-field-option-${element.id}`;\n\n\tconst handleDnD = useCallback<DnDProps['onDragEnd']>(\n\t\t({ destination, source }) => {\n\t\t\tconst noDestination = !destination;\n\t\t\tconst noChange = source?.index === destination?.index && destination?.droppableId === source?.droppableId;\n\t\t\tconst notOfOurInterest = destination?.droppableId !== droppableId;\n\n\t\t\tif (noDestination || noChange || notOfOurInterest) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newOptions = R.move(source.index, destination.index, element.options || []);\n\t\t\tupdateElement('options')(newOptions);\n\t\t},\n\t\t[droppableId, element.options, updateElement]\n\t);\n\n\treturn (\n\t\t<div className='ee-field-options'>\n\t\t\t<p className='ee-field-options__desc'>\n\t\t\t\t{__('Options are the choices you give people to select from.')}\n\t\t\t\t<br />\n\t\t\t\t{__(\n\t\t\t\t\t'The value is a simple key that will be saved to the database and the label is what is shown to the user.'\n\t\t\t\t)}\n\t\t\t</p>\n\t\t\t<DragDropContext onDragEnd={handleDnD}>\n\t\t\t\t<Droppable droppableId={droppableId} type='option'>\n\t\t\t\t\t{({ innerRef, droppableProps, placeholder }, { isDraggingOver }) => {\n\t\t\t\t\t\tconst className = classNames(\n\t\t\t\t\t\t\t'ee-droppable',\n\t\t\t\t\t\t\tisDraggingOver && 'ee-droppable--is-dragging-over'\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div {...droppableProps} className={className} ref={innerRef}>\n\t\t\t\t\t\t\t\t{(element.options || []).map(({ value, label }, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<FieldOption\n\t\t\t\t\t\t\t\t\t\t\tkey={`${index}`}\n\t\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeOptionInput}\n\t\t\t\t\t\t\t\t\t\t\tonRemove={onRemoveOption}\n\t\t\t\t\t\t\t\t\t\t\tid={element.id}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t{placeholder}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</Droppable>\n\t\t\t</DragDropContext>\n\t\t\t<Button\n\t\t\t\tbuttonText={__('add new option')}\n\t\t\t\tclassName='ee-field-options__add-option'\n\t\t\t\ticon={Plus}\n\t\t\t\tonClick={onAddOption}\n\t\t\t\tsize='smaller'\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default withLabel(FieldOptions);\n","import { useCallback, useEffect, useState } from 'react';\nimport * as R from 'ramda';\n\nimport { __ } from '@eventespresso/i18n';\nimport { SelectWithLabel, useConfirmationDialog } from '@eventespresso/ui-components';\n\nimport type { FormElementProps } from '../../types';\nimport { ELEMENT_BLOCKS_OPTIONS } from '../../constants';\nimport { useUpdateElement } from '../useUpdateElement';\n\nconst options = ELEMENT_BLOCKS_OPTIONS.filter(R.complement(R.propEq('value', 'FORM_SECTION')));\n\nexport const InputType: React.FC<FormElementProps> = ({ element }) => {\n\tconst onUpdateValue = useUpdateElement(element);\n\tconst [currentType, setCurrentType] = useState(element.type);\n\n\tconst { confirmationDialog, onOpen } = useConfirmationDialog({\n\t\ttitle: __('Change input type'),\n\t\tmessage: __('Some configurations might be lost. Are you sure you want to change the input type?'),\n\t\tonConfirm: () => onUpdateValue('type')(currentType),\n\t\tonCancel: () => setCurrentType(element.type), // restore the selected value on cancel\n\t});\n\n\tconst onChangeValue = useCallback((type) => {\n\t\tsetCurrentType(type);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (currentType && element.type !== currentType) {\n\t\t\tonOpen();\n\t\t}\n\t}, [currentType, element.type, onOpen]);\n\n\treturn (\n\t\t<>\n\t\t\t<SelectWithLabel\n\t\t\t\tid={`${element.id}-input-type`}\n\t\t\t\t// pass key to ensure that the component state is reset when type is changed\n\t\t\t\tkey={element.type}\n\t\t\t\tlabel={__('type')}\n\t\t\t\toptions={options}\n\t\t\t\tvalue={currentType}\n\t\t\t\tonChangeValue={onChangeValue}\n\t\t\t\tsize='small'\n\t\t\t/>\n\t\t\t{confirmationDialog}\n\t\t</>\n\t);\n};\n","import { __ } from '@eventespresso/i18n';\nimport { SwitchWithLabel, TextInputWithLabel, withLabel, SelectWithLabel } from '@eventespresso/ui-components';\nimport { SimpleTextEditor } from '@eventespresso/rich-text-editor';\n\nimport type { FormElementProps } from '../../types';\nimport FieldOptions from './FieldOptions';\nimport { isFieldWithOptions } from '../../utils';\nimport { useUpdateElement } from '../useUpdateElement';\nimport { InputType } from './InputType';\nimport { isFieldOfType } from '../../utils';\nimport { useFormState } from '../../state';\n\nconst RTEWithLabel = withLabel(SimpleTextEditor);\n\nexport const Settings: React.FC<FormElementProps> = ({ element }) => {\n\tconst onChangeValue = useUpdateElement(element);\n\n\tconst { mapsToOptions } = useFormState();\n\n\treturn (\n\t\t<>\n\t\t\t{\n\t\t\t\t// HTML doesn't need a public label\n\t\t\t\t!isFieldOfType(['HTML'], element) && (\n\t\t\t\t\t<TextInputWithLabel\n\t\t\t\t\t\tlabel={__('public label')}\n\t\t\t\t\t\tonChangeValue={onChangeValue('label.publicLabel')}\n\t\t\t\t\t\tvalue={element.label?.publicLabel}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t\t<TextInputWithLabel\n\t\t\t\tlabel={__('admin label')}\n\t\t\t\tonChangeValue={onChangeValue('label.adminLabel')}\n\t\t\t\tvalue={element.label?.adminLabel}\n\t\t\t/>\n\t\t\t{isFieldOfType(['HTML'], element) ? (\n\t\t\t\t<>\n\t\t\t\t\t<RTEWithLabel\n\t\t\t\t\t\tlabel={__('content')}\n\t\t\t\t\t\tdefaultValue={element.label?.html}\n\t\t\t\t\t\tonChangeValue={onChangeValue('label.html')}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t{isFieldWithOptions(element) ? (\n\t\t\t\t\t\t<FieldOptions element={element} label={__('options')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<TextInputWithLabel\n\t\t\t\t\t\t\tlabel={__('placeholder')}\n\t\t\t\t\t\t\tonChangeValue={onChangeValue('attributes.placeholder')}\n\t\t\t\t\t\t\tvalue={element.attributes?.placeholder}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<SwitchWithLabel\n\t\t\t\t\t\tlabel={__('admin only')}\n\t\t\t\t\t\tonChangeValue={onChangeValue('adminOnly')}\n\t\t\t\t\t\tisChecked={element.adminOnly}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextInputWithLabel\n\t\t\t\t\t\tlabel={__('help text')}\n\t\t\t\t\t\tonChangeValue={onChangeValue('helpText.helpText')}\n\t\t\t\t\t\tvalue={element.helpText?.helpText}\n\t\t\t\t\t/>\n\t\t\t\t\t<InputType element={element} />\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{mapsToOptions && (\n\t\t\t\t<SelectWithLabel\n\t\t\t\t\tlabel={__('maps to')}\n\t\t\t\t\tonChangeValue={onChangeValue('mapsTo')}\n\t\t\t\t\tvalue={element.mapsTo}\n\t\t\t\t\toptions={mapsToOptions}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { __ } from '@eventespresso/i18n';\nimport { TextInputWithLabel, NumberInputWithLabel } from '@eventespresso/ui-components';\n\nimport { useUpdateElement } from '../useUpdateElement';\n\nimport type { FormElementProps } from '../../types';\nimport { isNumericField, isTextField } from '../../utils';\n\nexport const Styles: React.FC<FormElementProps> = ({ element }) => {\n\tconst onChangeValue = useUpdateElement(element);\n\n\treturn (\n\t\t<>\n\t\t\t<TextInputWithLabel\n\t\t\t\tlabel={__('css class')}\n\t\t\t\tonChangeValue={onChangeValue('attributes.class')}\n\t\t\t\tvalue={element.attributes?.class}\n\t\t\t/>\n\t\t\t<TextInputWithLabel\n\t\t\t\tlabel={__('help text css class')}\n\t\t\t\tonChangeValue={onChangeValue('helpText.htmlClass')}\n\t\t\t\tvalue={element.helpText?.htmlClass}\n\t\t\t/>\n\t\t\t{isTextField(element) && (\n\t\t\t\t<>\n\t\t\t\t\t<NumberInputWithLabel\n\t\t\t\t\t\tlabel={__('size')}\n\t\t\t\t\t\tonChangeValue={onChangeValue('attributes.size')}\n\t\t\t\t\t\tvalue={element.attributes?.size}\n\t\t\t\t\t/>\n\t\t\t\t\t{\n\t\t\t\t\t\t// Show 'step' for numeric fields and `maxlength` for other fields\n\t\t\t\t\t\tisNumericField(element) ? (\n\t\t\t\t\t\t\t<NumberInputWithLabel\n\t\t\t\t\t\t\t\tlabel={__('step')}\n\t\t\t\t\t\t\t\tonChangeValue={onChangeValue('attributes.step')}\n\t\t\t\t\t\t\t\tvalue={element.attributes?.step}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<NumberInputWithLabel\n\t\t\t\t\t\t\t\tlabel={__('maxlength')}\n\t\t\t\t\t\t\t\tonChangeValue={onChangeValue('attributes.maxlength')}\n\t\t\t\t\t\t\t\tvalue={element.attributes?.maxlength}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { __ } from '@eventespresso/i18n';\nimport {\n\tNumberInputWithLabel,\n\tSelectWithCustomText,\n\tSwitchWithLabel,\n\tTextInputWithLabel,\n\twithLabel,\n} from '@eventespresso/ui-components';\nimport { DatePicker, TimePicker } from '@eventespresso/dates';\n\nimport { useUpdateElement } from '../useUpdateElement';\n\nimport type { FormElementProps } from '../../types';\nimport { isDateField, isNumericField, isTextField, isFieldOfType, isTelField } from '../../utils';\n\nconst DatePickerWithLabel = withLabel(DatePicker);\nconst TimePickerWithLabel = withLabel(TimePicker);\n\nconst monthFieldProps = {\n\tshowMonthYearPicker: true,\n\tdateFormat: 'MM/yyyy',\n};\n\n// TODO use DOM data to add these options\nconst formatOptions = [\n\t{\n\t\tvalue: 'de_DE',\n\t\tlabel: __('Germany'),\n\t},\n\t{\n\t\tvalue: 'fr_FR',\n\t\tlabel: __('France'),\n\t},\n\t{\n\t\tvalue: 'en_UK',\n\t\tlabel: __('United Kingdom'),\n\t},\n\t{\n\t\tvalue: 'en_US',\n\t\tlabel: __('United States'),\n\t},\n\t{\n\t\tvalue: 'custom',\n\t\tlabel: __('Custom'),\n\t},\n];\n\nexport const Validation: React.FC<FormElementProps> = ({ element }) => {\n\tconst onChangeValue = useUpdateElement(element);\n\n\treturn (\n\t\t<>\n\t\t\t<SwitchWithLabel\n\t\t\t\tlabel={__('required')}\n\t\t\t\tonChangeValue={onChangeValue('required.required')}\n\t\t\t\tisChecked={element.required?.required}\n\t\t\t/>\n\t\t\t<TextInputWithLabel\n\t\t\t\tlabel={__('required text')}\n\t\t\t\tonChangeValue={onChangeValue('required.validationText')}\n\t\t\t\tvalue={element.required?.validationText}\n\t\t\t/>\n\t\t\t{isTextField(element) && (\n\t\t\t\t<>\n\t\t\t\t\t<SwitchWithLabel\n\t\t\t\t\t\tlabel={__('autocomplete')}\n\t\t\t\t\t\tonChangeValue={onChangeValue('attributes.autocomplete')}\n\t\t\t\t\t\tisChecked={element.attributes?.autocomplete}\n\t\t\t\t\t/>\n\t\t\t\t\t{isTelField(element) && (\n\t\t\t\t\t\t<SelectWithCustomText\n\t\t\t\t\t\t\tid={`${element.id}-format`}\n\t\t\t\t\t\t\tcustomOptionValue='custom'\n\t\t\t\t\t\t\tinputLabel={__('custom format')}\n\t\t\t\t\t\t\tlabel={__('format')}\n\t\t\t\t\t\t\tonChangeValue={onChangeValue('attributes.pattern')}\n\t\t\t\t\t\t\toptions={formatOptions}\n\t\t\t\t\t\t\tvalue={element.attributes?.pattern}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{!isTelField(element) && (\n\t\t\t\t\t\t<TextInputWithLabel\n\t\t\t\t\t\t\tlabel={__('pattern')}\n\t\t\t\t\t\t\tonChangeValue={onChangeValue('attributes.pattern')}\n\t\t\t\t\t\t\tvalue={element.attributes?.pattern}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{isNumericField(element) && (\n\t\t\t\t<>\n\t\t\t\t\t<NumberInputWithLabel\n\t\t\t\t\t\tlabel={__('min')}\n\t\t\t\t\t\tonChangeValue={onChangeValue('attributes.min')}\n\t\t\t\t\t\tvalue={element.attributes?.min}\n\t\t\t\t\t/>\n\t\t\t\t\t<NumberInputWithLabel\n\t\t\t\t\t\tlabel={__('max')}\n\t\t\t\t\t\tonChangeValue={onChangeValue('attributes.max')}\n\t\t\t\t\t\tvalue={element.attributes?.max}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{isDateField(element) && (\n\t\t\t\t<>\n\t\t\t\t\t<DatePickerWithLabel\n\t\t\t\t\t\tlabel={__('min')}\n\t\t\t\t\t\tonChange={onChangeValue('attributes.minDate')}\n\t\t\t\t\t\tvalue={element.attributes?.minDate}\n\t\t\t\t\t\t{...(element.type === 'MONTH' && monthFieldProps)}\n\t\t\t\t\t/>\n\t\t\t\t\t<DatePickerWithLabel\n\t\t\t\t\t\tlabel={__('max')}\n\t\t\t\t\t\tonChange={onChangeValue('attributes.maxDate')}\n\t\t\t\t\t\tvalue={element.attributes?.maxDate}\n\t\t\t\t\t\t{...(element.type === 'MONTH' && monthFieldProps)}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{isFieldOfType(['TIME'], element) && (\n\t\t\t\t<>\n\t\t\t\t\t<TimePickerWithLabel\n\t\t\t\t\t\tlabel={__('min')}\n\t\t\t\t\t\tonChange={onChangeValue('attributes.minDate')}\n\t\t\t\t\t\tvalue={element.attributes?.minDate}\n\t\t\t\t\t/>\n\t\t\t\t\t<TimePickerWithLabel\n\t\t\t\t\t\tlabel={__('max')}\n\t\t\t\t\t\tonChange={onChangeValue('attributes.maxDate')}\n\t\t\t\t\t\tvalue={element.attributes?.maxDate}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { memo } from 'react';\n\nimport { __ } from '@eventespresso/i18n';\nimport { Check, Palette, SettingsOutlined } from '@eventespresso/icons';\nimport { Collapsible, Tabs, TabList, TabPanels, Tab, TabPanel } from '@eventespresso/ui-components';\nimport { getPropsAreEqual } from '@eventespresso/utils';\n\nimport type { FormElementProps } from '../../types';\nimport { Settings } from './Settings';\nimport { Styles } from './Styles';\nimport { Validation } from './Validation';\nimport { useFormState } from '../../state';\n\nexport const FormElementTabs = memo<FormElementProps>(({ element }) => {\n\tconst { isElementOpen } = useFormState();\n\treturn (\n\t\t<Collapsible show={isElementOpen({ id: element.id })}>\n\t\t\t<Tabs variant='enclosed' wrapperClassName='ee-form-settings__tabs'>\n\t\t\t\t<TabList>\n\t\t\t\t\t<Tab>\n\t\t\t\t\t\t<SettingsOutlined className='ee-tab-icon-settings' />\n\t\t\t\t\t\t{__('Settings')}\n\t\t\t\t\t</Tab>\n\t\t\t\t\t<Tab>\n\t\t\t\t\t\t<Palette className='ee-tab-icon-palette' />\n\t\t\t\t\t\t{__('Styles')}\n\t\t\t\t\t</Tab>\n\t\t\t\t\t<Tab>\n\t\t\t\t\t\t<Check className='ee-tab-icon-validation' />\n\t\t\t\t\t\t{__('Validation')}\n\t\t\t\t\t</Tab>\n\t\t\t\t\t{/* <Tab>\n\t\t\t\t\t\t<CheckList className='ee-tab-icon-rules' />\n\t\t\t\t\t\t{__('Rules')}\n\t\t\t\t\t</Tab> */}\n\t\t\t\t</TabList>\n\t\t\t\t<TabPanels>\n\t\t\t\t\t<TabPanel>\n\t\t\t\t\t\t<Settings element={element} />\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel>\n\t\t\t\t\t\t<Styles element={element} />\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel>\n\t\t\t\t\t\t<Validation element={element} />\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t{/* <TabPanel>\n\t\t\t\t\t\t<p>dont be bad person</p>\n\t\t\t\t\t</TabPanel> */}\n\t\t\t\t</TabPanels>\n\t\t\t</Tabs>\n\t\t</Collapsible>\n\t);\n}, getPropsAreEqual([['element']]));\n","import { memo } from 'react';\nimport classNames from 'classnames';\n\nimport { Draggable } from '@eventespresso/adapters';\nimport { getPropsAreEqual } from '@eventespresso/utils';\n\nimport { FormElementInput } from './FormElementInput';\nimport { FormElementToolbar } from './FormElementToolbar';\nimport { FormElementTabs } from './Tabs';\nimport { useFormState } from '../state';\n\nimport type { FormElementProps } from '../types';\n\nexport const FormElement = memo<FormElementProps>(({ element, index }) => {\n\tconst { isElementOpen } = useFormState();\n\tconst active = isElementOpen({ id: element.id });\n\tconst wrapperClass = classNames('ee-form-element__wrapper', active && 'ee-form-element__wrapper--active');\n\n\treturn (\n\t\t<Draggable draggableId={element.id} index={index}>\n\t\t\t{({ draggableProps, dragHandleProps, innerRef }, { isDragging }) => {\n\t\t\t\tconst className = classNames(wrapperClass, 'ee-draggable', isDragging && 'ee-draggable--is-dragging');\n\t\t\t\treturn (\n\t\t\t\t\t<div className={className} {...draggableProps} ref={innerRef} {...dragHandleProps}>\n\t\t\t\t\t\t<div className='ee-form-element'>\n\t\t\t\t\t\t\t<FormElementInput element={element} />\n\t\t\t\t\t\t\t<FormElementToolbar element={element} dragHandleProps={dragHandleProps} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<FormElementTabs element={element} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}}\n\t\t</Draggable>\n\t);\n}, getPropsAreEqual([['element'], ['index']]));\n","import { memo } from 'react';\nimport classNames from 'classnames';\n\nimport { Droppable } from '@eventespresso/adapters';\nimport { getPropsAreEqual } from '@eventespresso/utils';\n\nimport { useFormState } from '../state';\nimport type { FormSectionProps } from '../types';\nimport { FormElement } from '../FormElement';\n\nexport const FormSectionElements = memo<FormSectionProps>(({ formSection }) => {\n\tconst { getElements } = useFormState();\n\n\treturn (\n\t\t<Droppable droppableId={formSection.id} type='element'>\n\t\t\t{({ innerRef, droppableProps, placeholder }, { isDraggingOver }) => {\n\t\t\t\tconst className = classNames('ee-droppable', isDraggingOver && 'ee-droppable--is-dragging-over');\n\n\t\t\t\treturn (\n\t\t\t\t\t<div {...droppableProps} className={className} ref={innerRef}>\n\t\t\t\t\t\t{getElements({ sectionId: formSection.id }).map((element, index) => (\n\t\t\t\t\t\t\t<FormElement key={element.id} element={element} index={index} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t{placeholder}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}}\n\t\t</Droppable>\n\t);\n}, getPropsAreEqual([['formSection']]));\n","import { useCallback } from 'react';\nimport * as R from 'ramda';\n\nimport { strToPath, PropsPath } from '@eventespresso/utils';\n\nimport type { FormSection } from '../types';\nimport { useFormState } from '../state';\n\ntype OnChangeValue = (field: PropsPath<FormSection>) => (value: any) => void;\n\n/**\n * Returns an onChange handler for field inputs of a section settings\n */\nexport const useUpdateSection = (formSection: FormSection): OnChangeValue => {\n\tconst { updateSection } = useFormState();\n\n\treturn useCallback<OnChangeValue>(\n\t\t(field) => (value) => {\n\t\t\t// create a nested object from the dotted key and value\n\t\t\tconst newSection = R.assocPath(strToPath(field), value, {});\n\t\t\tupdateSection({ id: formSection.id, section: newSection });\n\t\t},\n\t\t[formSection.id, updateSection]\n\t);\n};\n","import { __ } from '@eventespresso/i18n';\nimport { TextInputWithLabel } from '@eventespresso/ui-components';\n\nimport { useUpdateSection } from '../useUpdateSection';\n\nimport type { FormSectionProps } from '../../types';\n\nexport const Styles: React.FC<FormSectionProps> = ({ formSection }) => {\n\tconst onChangeValue = useUpdateSection(formSection);\n\n\treturn (\n\t\t<TextInputWithLabel\n\t\t\tlabel={__('css class')}\n\t\t\tonChangeValue={onChangeValue('attributes.class')}\n\t\t\tvalue={formSection.attributes?.class}\n\t\t/>\n\t);\n};\n","import { __ } from '@eventespresso/i18n';\nimport { TextInputWithLabel, SwitchWithLabel, SelectWithLabel } from '@eventespresso/ui-components';\n\nimport { useUpdateSection } from '../useUpdateSection';\nimport { useFormState } from '../../state';\n\nimport type { FormSectionProps } from '../../types';\n\nexport const Settings: React.FC<FormSectionProps> = ({ formSection }) => {\n\tconst onChangeValue = useUpdateSection(formSection);\n\n\tconst { appliesToOptions } = useFormState();\n\n\treturn (\n\t\t<>\n\t\t\t<TextInputWithLabel\n\t\t\t\tlabel={__('public label')}\n\t\t\t\tonChangeValue={onChangeValue('label.publicLabel')}\n\t\t\t\tvalue={formSection.label?.publicLabel}\n\t\t\t/>\n\t\t\t<TextInputWithLabel\n\t\t\t\tlabel={__('admin label')}\n\t\t\t\tonChangeValue={onChangeValue('label.adminLabel')}\n\t\t\t\tvalue={formSection.label?.adminLabel}\n\t\t\t/>\n\t\t\t<SwitchWithLabel\n\t\t\t\tlabel={__('show label')}\n\t\t\t\tonChangeValue={onChangeValue('label.showLabel')}\n\t\t\t\tisChecked={formSection.label?.showLabel}\n\t\t\t/>\n\t\t\t{appliesToOptions && (\n\t\t\t\t<SelectWithLabel\n\t\t\t\t\tlabel={__('applies to')}\n\t\t\t\t\tonChangeValue={onChangeValue('appliesTo')}\n\t\t\t\t\tvalue={formSection.appliesTo}\n\t\t\t\t\toptions={appliesToOptions}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n","import { memo } from 'react';\n\nimport { __ } from '@eventespresso/i18n';\nimport { Palette, SettingsOutlined } from '@eventespresso/icons';\nimport { Collapsible, Tabs, TabList, TabPanels, Tab, TabPanel } from '@eventespresso/ui-components';\nimport { getPropsAreEqual } from '@eventespresso/utils';\n\nimport { useFormState } from '../../state';\nimport { Styles } from './Styles';\nimport type { FormSectionProps } from '../../types';\nimport { Settings } from './Settings';\n\nexport const FormSectionTabs = memo<FormSectionProps>(({ formSection }) => {\n\tconst { isElementOpen } = useFormState();\n\treturn (\n\t\t<Collapsible show={isElementOpen({ id: formSection.id })}>\n\t\t\t<Tabs variant='enclosed' wrapperClassName='ee-form-settings__tabs'>\n\t\t\t\t<TabList>\n\t\t\t\t\t<Tab>\n\t\t\t\t\t\t<SettingsOutlined className='ee-tab-icon-settings' />\n\t\t\t\t\t\t{__('Settings')}\n\t\t\t\t\t</Tab>\n\t\t\t\t\t<Tab>\n\t\t\t\t\t\t<Palette className='ee-tab-icon-palette' />\n\t\t\t\t\t\t{__('Styles')}\n\t\t\t\t\t</Tab>\n\t\t\t\t\t{/* <Tab>\n\t\t\t\t\t\t<CheckList className='ee-tab-icon-rules' />\n\t\t\t\t\t\t{__('Rules')}\n\t\t\t\t\t</Tab> */}\n\t\t\t\t</TabList>\n\t\t\t\t<TabPanels>\n\t\t\t\t\t<TabPanel>\n\t\t\t\t\t\t<Settings formSection={formSection} />\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel>\n\t\t\t\t\t\t<Styles formSection={formSection} />\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t{/* <TabPanel>\n\t\t\t\t\t\t<p>dont be bad person</p>\n\t\t\t\t\t</TabPanel> */}\n\t\t\t\t</TabPanels>\n\t\t\t</Tabs>\n\t\t</Collapsible>\n\t);\n}, getPropsAreEqual([['formSection']]));\n","import { memo } from 'react';\nimport classNames from 'classnames';\n\nimport { Draggable } from '@eventespresso/adapters';\nimport { getPropsAreEqual } from '@eventespresso/utils';\n\nimport { AddFormElementPopover } from './AddFormElementPopover';\nimport { FormSectionToolbar } from './FormSectionToolbar';\nimport { FormSectionElements } from './FormSectionElements';\nimport { FormSectionTabs } from './Tabs';\nimport { useFormState } from '../state';\n\nimport type { FormSectionProps } from '../types';\n\nexport const FormSection = memo<FormSectionProps>(({ formSection, index }) => {\n\tconst { isElementOpen } = useFormState();\n\n\tconst { id } = formSection;\n\n\tconst active = isElementOpen({ id });\n\tconst fieldsetClass = classNames('ee-form-section', active && 'ee-form-section--active');\n\n\treturn (\n\t\t<Draggable draggableId={id} index={index}>\n\t\t\t{({ draggableProps, dragHandleProps, innerRef }, { isDragging }) => {\n\t\t\t\tconst className = classNames(fieldsetClass, 'ee-draggable', isDragging && 'ee-draggable--is-dragging');\n\t\t\t\treturn (\n\t\t\t\t\t<fieldset className={className} {...draggableProps} ref={innerRef}>\n\t\t\t\t\t\t<div className={'ee-form-section__header'}>\n\t\t\t\t\t\t\t<h4 className='ee-form-section__name'>\n\t\t\t\t\t\t\t\t{formSection.label?.adminLabel || formSection.label?.publicLabel}\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<FormSectionToolbar formSection={formSection} dragHandleProps={dragHandleProps} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<FormSectionTabs formSection={formSection} />\n\t\t\t\t\t\t<FormSectionElements formSection={formSection} />\n\t\t\t\t\t\t<AddFormElementPopover formSection={formSection} />\n\t\t\t\t\t</fieldset>\n\t\t\t\t);\n\t\t\t}}\n\t\t</Draggable>\n\t);\n}, getPropsAreEqual([['formSection'], ['index']]));\n","import { memo, useCallback } from 'react';\n\nimport { getPropsAreEqual } from '@eventespresso/utils';\nimport { __ } from '@eventespresso/i18n';\nimport { Button } from '@eventespresso/ui-components';\nimport { Plus } from '@eventespresso/icons';\n\nimport { FormSection } from './FormSection';\nimport { useFormState } from '../state';\n\nimport type { FormSection as TFormSection } from '../types';\n\nexport type FormSectionsProps = {\n\tformSections: Array<TFormSection>;\n};\n\nexport const FormSections: React.FC<FormSectionsProps> = memo(({ formSections }) => {\n\tconst { addSection } = useFormState();\n\n\tconst onAddSection = useCallback(() => {\n\t\taddSection({ afterId: null, section: {} });\n\t}, [addSection]);\n\n\t// If there are no sections, show add section button\n\tif (!formSections.length) {\n\t\treturn <Button buttonText={__('Add Form Section')} icon={Plus} onClick={onAddSection} />;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{formSections.map((formSection, index) => (\n\t\t\t\t<FormSection key={formSection.id} formSection={formSection} index={index} />\n\t\t\t))}\n\t\t</>\n\t);\n}, getPropsAreEqual([['formSections']]));\n","import { gql } from '@eventespresso/data';\n\nexport const CREATE_FORM_SECTION = gql`\n\tmutation CREATE_FORM_SECTION($input: CreateEspressoFormSectionInput!) {\n\t\tcreateEspressoFormSection(input: $input) {\n\t\t\tespressoFormSection {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const UPDATE_FORM_SECTION = gql`\n\tmutation UPDATE_FORM_SECTION($input: UpdateEspressoFormSectionInput!) {\n\t\tupdateEspressoFormSection(input: $input) {\n\t\t\tespressoFormSection {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const DELETE_FORM_SECTION = gql`\n\tmutation DELETE_FORM_SECTION($input: DeleteEspressoFormSectionInput!) {\n\t\tdeleteEspressoFormSection(input: $input) {\n\t\t\tespressoFormSection {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const CREATE_FORM_ELEMENT = gql`\n\tmutation CREATE_FORM_ELEMENT($input: CreateEspressoFormElementInput!) {\n\t\tcreateEspressoFormElement(input: $input) {\n\t\t\tespressoFormElement {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const UPDATE_FORM_ELEMENT = gql`\n\tmutation UPDATE_FORM_ELEMENT($input: UpdateEspressoFormElementInput!) {\n\t\tupdateEspressoFormElement(input: $input) {\n\t\t\tespressoFormElement {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const DELETE_FORM_ELEMENT = gql`\n\tmutation DELETE_FORM_ELEMENT($input: DeleteEspressoFormElementInput!) {\n\t\tdeleteEspressoFormElement(input: $input) {\n\t\t\tespressoFormElement {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n`;\n","import { useCallback, useMemo } from 'react';\n\nimport {\n\tMutationFunction,\n\tMutationInput,\n\tMutationType,\n\tOperationVariables,\n\tuseMutationWithFeedback,\n} from '@eventespresso/data';\nimport { __ } from '@eventespresso/i18n';\n\nimport type {\n\tCreateFormElementInput,\n\tCreateFormElementResult,\n\tDeleteFormElementInput,\n\tDeleteFormElementResult,\n\tUpdateFormElementInput,\n\tUpdateFormElementResult,\n} from './types';\nimport { CREATE_FORM_ELEMENT, DELETE_FORM_ELEMENT, UPDATE_FORM_ELEMENT } from './gql';\nimport { normalizeElementInput } from '../state/utils';\n\ninterface ElementMutator {\n\tcreateEntity: MutationFunction<CreateFormElementResult, CreateFormElementInput>;\n\tupdateEntity: MutationFunction<UpdateFormElementResult, UpdateFormElementInput>;\n\tdeleteEntity: MutationFunction<DeleteFormElementResult, DeleteFormElementInput>;\n}\n\nconst createVariables = (mutationType: MutationType, input: MutationInput): OperationVariables => {\n\tconst mutationInput: MutationInput = {\n\t\tclientMutationId: `${mutationType}_ELEMENT`,\n\t\t...normalizeElementInput(input),\n\t};\n\n\treturn {\n\t\tinput: mutationInput,\n\t};\n};\n\nexport const useElementMutator = (id = ''): ElementMutator => {\n\tconst createElement = useMutationWithFeedback({\n\t\ttypeName: __('element'),\n\t\tmutationType: MutationType.Create,\n\t\tmutation: CREATE_FORM_ELEMENT,\n\t});\n\n\tconst updateElement = useMutationWithFeedback({\n\t\ttypeName: __('element'),\n\t\tmutationType: MutationType.Update,\n\t\tmutation: UPDATE_FORM_ELEMENT,\n\t});\n\n\tconst deleteElement = useMutationWithFeedback({\n\t\ttypeName: __('element'),\n\t\tmutationType: MutationType.Delete,\n\t\tmutation: DELETE_FORM_ELEMENT,\n\t});\n\n\tconst createEntity = useCallback<ElementMutator['createEntity']>(\n\t\tasync (input) => {\n\t\t\tconst variables = createVariables(MutationType.Create, { id, ...input });\n\t\t\treturn createElement({ variables });\n\t\t},\n\t\t[id, createElement]\n\t);\n\n\tconst updateEntity = useCallback<ElementMutator['updateEntity']>(\n\t\tasync (input) => {\n\t\t\tconst variables = createVariables(MutationType.Update, { id, ...input });\n\t\t\treturn updateElement({ variables });\n\t\t},\n\t\t[id, updateElement]\n\t);\n\n\tconst deleteEntity = useCallback<ElementMutator['deleteEntity']>(\n\t\tasync (input) => {\n\t\t\tconst variables = createVariables(MutationType.Delete, { id, ...input });\n\t\t\treturn deleteElement({ variables });\n\t\t},\n\t\t[id, deleteElement]\n\t);\n\n\treturn useMemo(\n\t\t() => ({\n\t\t\tcreateEntity,\n\t\t\tupdateEntity,\n\t\t\tdeleteEntity,\n\t\t}),\n\t\t[createEntity, deleteEntity, updateEntity]\n\t);\n};\n","import { useCallback } from 'react';\n\nimport { FormState, useFormState } from '../state';\nimport { useElementMutator } from './useElementMutator';\n\ntype MutateElementsCb = (elements: FormState['elements'], deletedElements?: Array<string>) => Promise<void>;\n\nexport const useMutateElements = (): MutateElementsCb => {\n\tconst { markElementAsSaved, markElementAsDeleted } = useFormState();\n\n\tconst { createEntity, updateEntity, deleteEntity } = useElementMutator();\n\n\treturn useCallback(\n\t\tasync (elements, deletedElements = []) => {\n\t\t\t// Fire the network requests then await later\n\t\t\tconst savedElements = Promise.all(\n\t\t\t\tObject.values(elements).map(async (element) => {\n\t\t\t\t\tif (element.isNew) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait createEntity(element);\n\t\t\t\t\t\t\treturn element;\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t// TODO handle error\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (element.isModified) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait updateEntity(element);\n\t\t\t\t\t\t\treturn element;\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t// TODO handle error\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tif (deletedElements?.length) {\n\t\t\t\t// Delete all unlucky ones\n\t\t\t\tawait Promise.all(\n\t\t\t\t\tdeletedElements.map(async (deletedElementId) => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst { data } = await deleteEntity({ id: deletedElementId });\n\t\t\t\t\t\t\t// ensure that element is marked as deleted only if the deletion was successful\n\t\t\t\t\t\t\tconst id = data?.deleteEspressoFormElement?.espressoFormElement?.id;\n\t\t\t\t\t\t\tif (id) {\n\t\t\t\t\t\t\t\tmarkElementAsDeleted({ id });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t// TODO handle error\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// await the save request\n\t\t\t(await savedElements).filter(Boolean).forEach((element) => {\n\t\t\t\tmarkElementAsSaved({ id: element.id, element });\n\t\t\t});\n\t\t},\n\t\t[createEntity, deleteEntity, markElementAsDeleted, markElementAsSaved, updateEntity]\n\t);\n};\n","import { useCallback, useMemo } from 'react';\n\nimport {\n\tMutationFunction,\n\tMutationInput,\n\tMutationType,\n\tOperationVariables,\n\tuseMutationWithFeedback,\n} from '@eventespresso/data';\nimport { __ } from '@eventespresso/i18n';\n\nimport type {\n\tCreateFormSectionInput,\n\tCreateFormSectionResult,\n\tDeleteFormSectionInput,\n\tDeleteFormSectionResult,\n\tUpdateFormSectionInput,\n\tUpdateFormSectionResult,\n} from './types';\nimport { CREATE_FORM_SECTION, DELETE_FORM_SECTION, UPDATE_FORM_SECTION } from './gql';\nimport { normalizeSectionInput } from '../state/utils';\n\ninterface SectionMutator {\n\tcreateEntity: MutationFunction<CreateFormSectionResult, CreateFormSectionInput>;\n\tupdateEntity: MutationFunction<UpdateFormSectionResult, UpdateFormSectionInput>;\n\tdeleteEntity: MutationFunction<DeleteFormSectionResult, DeleteFormSectionInput>;\n}\n\nconst createVariables = (mutationType: MutationType, input: MutationInput): OperationVariables => {\n\tconst mutationInput: MutationInput = {\n\t\tclientMutationId: `${mutationType}_SECTION`,\n\t\t...normalizeSectionInput(input),\n\t};\n\n\treturn {\n\t\tinput: mutationInput,\n\t};\n};\n\nexport const useSectionMutator = (id = ''): SectionMutator => {\n\tconst createSection = useMutationWithFeedback({\n\t\ttypeName: __('section'),\n\t\tmutationType: MutationType.Create,\n\t\tmutation: CREATE_FORM_SECTION,\n\t});\n\n\tconst updateSection = useMutationWithFeedback({\n\t\ttypeName: __('section'),\n\t\tmutationType: MutationType.Update,\n\t\tmutation: UPDATE_FORM_SECTION,\n\t});\n\n\tconst deleteSection = useMutationWithFeedback({\n\t\ttypeName: __('section'),\n\t\tmutationType: MutationType.Delete,\n\t\tmutation: DELETE_FORM_SECTION,\n\t});\n\n\tconst createEntity = useCallback<SectionMutator['createEntity']>(\n\t\tasync (input) => {\n\t\t\tconst variables = createVariables(MutationType.Create, { id, ...input });\n\t\t\treturn createSection({ variables });\n\t\t},\n\t\t[id, createSection]\n\t);\n\n\tconst updateEntity = useCallback<SectionMutator['updateEntity']>(\n\t\tasync (input) => {\n\t\t\tconst variables = createVariables(MutationType.Update, { id, ...input });\n\t\t\treturn updateSection({ variables });\n\t\t},\n\t\t[id, updateSection]\n\t);\n\n\tconst deleteEntity = useCallback<SectionMutator['deleteEntity']>(\n\t\tasync (input) => {\n\t\t\tconst variables = createVariables(MutationType.Delete, { id, ...input });\n\t\t\treturn deleteSection({ variables });\n\t\t},\n\t\t[id, deleteSection]\n\t);\n\n\treturn useMemo(\n\t\t() => ({\n\t\t\tcreateEntity,\n\t\t\tupdateEntity,\n\t\t\tdeleteEntity,\n\t\t}),\n\t\t[createEntity, deleteEntity, updateEntity]\n\t);\n};\n","import { useCallback } from 'react';\n\nimport { FormState, useFormState } from '../state';\nimport { useSectionMutator } from './useSectionMutator';\n\ntype MutateSectionsCb = (sections: FormState['sections'], deletedSections?: Array<string>) => Promise<void>;\n\nexport const useMutateSections = (): MutateSectionsCb => {\n\tconst { markSectionAsSaved, markSectionAsDeleted } = useFormState();\n\n\tconst { createEntity, updateEntity, deleteEntity } = useSectionMutator();\n\n\treturn useCallback(\n\t\tasync (sections, deletedSections = []) => {\n\t\t\t// Fire the network requests then await later\n\t\t\tconst savedSections = Promise.all(\n\t\t\t\tObject.values(sections).map(async (section) => {\n\t\t\t\t\tif (section.isNew) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait createEntity(section);\n\t\t\t\t\t\t\treturn section;\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t// TODO handle error\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (section.isModified) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait updateEntity(section);\n\t\t\t\t\t\t\treturn section;\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t// TODO handle error\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tif (deletedSections?.length) {\n\t\t\t\t// Delete all unlucky ones\n\t\t\t\tawait Promise.all(\n\t\t\t\t\tdeletedSections.map(async (deletedSectionId) => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst { data } = await deleteEntity({ id: deletedSectionId });\n\t\t\t\t\t\t\t// ensure that section is marked as deleted only if the deletion was successful\n\t\t\t\t\t\t\tconst id = data?.deleteEspressoFormSection?.espressoFormSection?.id;\n\t\t\t\t\t\t\tif (id) {\n\t\t\t\t\t\t\t\tmarkSectionAsDeleted({ id });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t// TODO handle error\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// await the save request\n\t\t\t(await savedSections).filter(Boolean).forEach((section) => {\n\t\t\t\tmarkSectionAsSaved({ id: section.id, section });\n\t\t\t});\n\t\t},\n\t\t[createEntity, deleteEntity, markSectionAsDeleted, markSectionAsSaved, updateEntity]\n\t);\n};\n","import { useMemo } from 'react';\nimport classNames from 'classnames';\n\nimport { DragDropContext, Droppable } from '@eventespresso/adapters';\nimport { Container } from '@eventespresso/ui-components';\n\nimport { FormSections } from './FormSection';\nimport { withFormState } from './context';\nimport { useFormState, useHandleDnD } from './state';\nimport { useSaveForm } from './data';\nimport { SECTIONS_DROPPABLE_ID } from './constants';\n\nimport type { FormBuilderProps } from './types';\n\nimport './styles.scss';\n\nconst FormBuilder: React.FC<FormBuilderProps> = ({\n\tbodyClassName,\n\tcontainerClassName,\n\tcontentClassName,\n\theader,\n\ttopBanner: TopBanner,\n}) => {\n\tconst { getSections, getData } = useFormState();\n\n\t// handle save form\n\tuseSaveForm();\n\n\tconst bodyClass = classNames('ee-form-builder__wrapper', bodyClassName);\n\tconst contentClass = classNames('ee-form-builder__form', contentClassName);\n\tconst containerClass = classNames('ee-form-builder', containerClassName);\n\n\tconst classes = useMemo(() => {\n\t\treturn {\n\t\t\tbody: bodyClass,\n\t\t\tcontainer: containerClass,\n\t\t\tcontent: contentClass,\n\t\t};\n\t}, [bodyClass, containerClass, contentClass]);\n\n\tconst handleDnD = useHandleDnD();\n\n\treturn (\n\t\t<Container classes={classes} header={header}>\n\t\t\t{TopBanner && <TopBanner {...getData()} />}\n\t\t\t<DragDropContext onDragEnd={handleDnD}>\n\t\t\t\t<Droppable droppableId={SECTIONS_DROPPABLE_ID} type='section'>\n\t\t\t\t\t{({ innerRef, droppableProps, placeholder }, { isDraggingOver }) => {\n\t\t\t\t\t\tconst className = classNames(\n\t\t\t\t\t\t\t'ee-droppable',\n\t\t\t\t\t\t\tisDraggingOver && 'ee-droppable--is-dragging-over'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div {...droppableProps} className={className} ref={innerRef}>\n\t\t\t\t\t\t\t\t<FormSections formSections={getSections()} />\n\t\t\t\t\t\t\t\t{placeholder}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</Droppable>\n\t\t\t</DragDropContext>\n\t\t</Container>\n\t);\n};\n\nexport default withFormState(FormBuilder);\n","import { useEffect } from 'react';\nimport { useDebouncedCallback } from 'use-debounce';\n\nimport { FormState, useFormState } from '../state';\nimport { useMutateElements } from './useMutateElements';\nimport { useMutateSections } from './useMutateSections';\n\nexport type SaveFormCb = (state: FormState) => Promise<void>;\n\nconst DEBOUNCE_TIME = 5000; // milliseconds\n\nexport const useSaveForm = (): SaveFormCb => {\n\tconst mutateElements = useMutateElements();\n\tconst mutateSections = useMutateSections();\n\n\tconst { getData } = useFormState();\n\n\tconst saveForm = useDebouncedCallback<SaveFormCb>(async (state) => {\n\t\tconsole.log('state', state);\n\t\tmutateSections(state.sections, state.deletedSections);\n\t\tmutateElements(state.elements, state.deletedElements);\n\t}, DEBOUNCE_TIME);\n\n\tconst data = getData();\n\n\tuseEffect(() => {\n\t\tsaveForm(data);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [JSON.stringify(data)]);\n\n\treturn;\n};\n","import { useCallback } from 'react';\n\nimport { DragDropContextProps as DnDProps } from '@eventespresso/adapters';\n\nimport { useFormState } from './useFormState';\n\nexport const useHandleDnD = (): DnDProps['onDragEnd'] => {\n\tconst { moveSection, moveElement } = useFormState();\n\n\treturn useCallback(\n\t\t(result) => {\n\t\t\tconst { destination, source, draggableId, type } = result;\n\n\t\t\tconst noDestination = !destination;\n\t\t\tconst noChange = source?.index === destination?.index && destination?.droppableId === source?.droppableId;\n\n\t\t\tif (noDestination || noChange) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// if we are dealing with sorting of sections\n\t\t\tif (type === 'section') {\n\t\t\t\tmoveSection({\n\t\t\t\t\tid: draggableId,\n\t\t\t\t\tindex: destination.index,\n\t\t\t\t});\n\t\t\t} else if (type === 'element') {\n\t\t\t\tmoveElement({\n\t\t\t\t\tid: draggableId,\n\t\t\t\t\tindex: destination.index,\n\t\t\t\t\tsectionId: destination?.droppableId,\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[moveElement, moveSection]\n\t);\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export { default as FormBuilder } from './FormBuilder';\nexport * from './types';\n","import withClassName from '../withClassName';\nimport { IconProps } from '../types';\n\nconst Plus = (props: IconProps): JSX.Element => {\n\treturn (\n\t\t<svg viewBox='0 0 1024 1024' height='1.5em' width='1.5em' className='ee-svg--plus' {...props}>\n\t\t\t<defs>\n\t\t\t\t<style />\n\t\t\t</defs>\n\t\t\t<path d='M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z' />\n\t\t\t<path d='M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z' />\n\t\t</svg>\n\t);\n};\n\nexport default withClassName(Plus, 'plus');\n","import withClassName from '../withClassName';\nimport { IconProps } from '../types';\n\nconst Copy = (props: IconProps): JSX.Element => {\n\treturn (\n\t\t<svg\n\t\t\taria-hidden='true'\n\t\t\theight='1.5em'\n\t\t\tviewBox='0 0 20 20'\n\t\t\twidth='1.5em'\n\t\t\txmlns='http://www.w3.org/2000/svg'\n\t\t\tclassName='ee-svg--copy'\n\t\t\t{...props}\n\t\t>\n\t\t\t<path d='M6 15V2h10v13H6zm-1 1h8v2H3V5h2v11z' />\n\t\t</svg>\n\t);\n};\n\nexport default withClassName(Copy, 'copy');\n","(function() { module.exports = window[\"eventespresso\"][\"utils\"]; }());","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","(function() { module.exports = window[\"eventespresso\"][\"richTextEditor\"]; }());","(function() { module.exports = window[\"eventespresso\"][\"data\"]; }());","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import classNames from 'classnames';\n\nimport { IconComponent } from './types';\n\nimport './style.scss';\n\nconst withClassName = (WrappedComponent: IconComponent, svgName = ''): IconComponent => {\n\tconst WrappedIcon: IconComponent = ({ noMargin, size, ...props }) => {\n\t\tconst className = classNames(\n\t\t\t'ee-svg',\n\t\t\tsize && `ee-icon--${size}`,\n\t\t\tnoMargin && 'ee-icon--no-margin',\n\t\t\tsvgName && `ee-svg--${svgName}`,\n\t\t\tprops.className\n\t\t);\n\n\t\treturn <WrappedComponent {...props} className={className} />;\n\t};\n\n\treturn WrappedIcon;\n};\n\nexport default withClassName;\n","(function() { module.exports = window[\"eventespresso\"][\"hooks\"]; }());","(function() { module.exports = window[\"eventespresso\"][\"adapters\"]; }());","(function() { module.exports = window[\"eventespresso\"][\"i18n\"]; }());","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","module.exports = require(\"regenerator-runtime\");\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","(function() { module.exports = window[\"R\"]; }());","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import withClassName from '../withClassName';\nimport { IconProps } from '../types';\n\nconst Trash = (props: IconProps): JSX.Element => {\n\treturn (\n\t\t<svg\n\t\t\taria-hidden='true'\n\t\t\tfill='currentColor'\n\t\t\theight='1.5em'\n\t\t\tviewBox='0 0 20 20'\n\t\t\twidth='1.5em'\n\t\t\tclassName='ee-svg--trash'\n\t\t\t{...props}\n\t\t>\n\t\t\t<path d='M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z' />\n\t\t</svg>\n\t);\n};\n\nexport default withClassName(Trash, 'trash');\n","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","(function() { module.exports = window[\"eventespresso\"][\"uiComponents\"]; }());","(function() { module.exports = window[\"eventespresso\"][\"dates\"]; }());","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useRef, useEffect, useMemo } from 'react';\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked, or until the next browser frame is drawn. The debounced function\n * comes with a `cancel` method to cancel delayed `func` invocations and a\n * `flush` method to immediately invoke them. Provide `options` to indicate\n * whether `func` should be invoked on the leading and/or trailing edge of the\n * `wait` timeout. The `func` is invoked with the last arguments provided to the\n * debounced function. Subsequent calls to the debounced function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * If `wait` is omitted in an environment with `requestAnimationFrame`, `func`\n * invocation will be deferred until the next frame is drawn (typically about\n * 16ms).\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `debounce` and `throttle`.\n *\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0]\n *  The number of milliseconds to delay; if omitted, `requestAnimationFrame` is\n *  used (if available, otherwise it will be setTimeout(...,0)).\n * @param {Object} [options={}] The options object.\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.leading=false]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {number} [options.maxWait]\n *  Specify invoking on the trailing edge of the timeout.\n * @param {boolean} [options.trailing=true]\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * const resizeHandler = useDebouncedCallback(calculateLayout, 150);\n * window.addEventListener('resize', resizeHandler)\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * const clickHandler = useDebouncedCallback(sendMail, 300, {\n *   leading: true,\n *   trailing: false,\n * })\n * <button onClick={clickHandler}>click me</button>\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * const debounced = useDebouncedCallback(batchLog, 250, { 'maxWait': 1000 })\n * const source = new EventSource('/stream')\n * source.addEventListener('message', debounced)\n *\n * // Cancel the trailing debounced invocation.\n * window.addEventListener('popstate', debounced.cancel)\n *\n * // Check for pending invocations.\n * const status = debounced.pending() ? \"Pending...\" : \"Ready\"\n */\nexport default function useDebouncedCallback(func, wait, options) {\n    var _this = this;\n    var lastCallTime = useRef(null);\n    var lastInvokeTime = useRef(0);\n    var timerId = useRef(null);\n    var lastArgs = useRef([]);\n    var lastThis = useRef();\n    var result = useRef();\n    var funcRef = useRef(func);\n    var mounted = useRef(true);\n    funcRef.current = func;\n    // Bypass `requestAnimationFrame` by explicitly setting `wait=0`.\n    var useRAF = !wait && wait !== 0 && typeof window !== 'undefined';\n    if (typeof func !== 'function') {\n        throw new TypeError('Expected a function');\n    }\n    wait = +wait || 0;\n    options = options || {};\n    var leading = !!options.leading;\n    var trailing = 'trailing' in options ? !!options.trailing : true; // `true` by default\n    var maxing = 'maxWait' in options;\n    var maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : null;\n    useEffect(function () {\n        mounted.current = true;\n        return function () {\n            mounted.current = false;\n        };\n    }, []);\n    // You may have a question, why we have so many code under the useMemo definition.\n    //\n    // This was made as we want to escape from useCallback hell and\n    // not to initialize a number of functions each time useDebouncedCallback is called.\n    //\n    // It means that we have less garbage for our GC calls which improves performance.\n    // Also, it makes this library smaller.\n    //\n    // And the last reason, that the code without lots of useCallback with deps is easier to read.\n    // You have only one place for that.\n    var debounced = useMemo(function () {\n        var invokeFunc = function (time) {\n            var args = lastArgs.current;\n            var thisArg = lastThis.current;\n            lastArgs.current = lastThis.current = null;\n            lastInvokeTime.current = time;\n            return (result.current = funcRef.current.apply(thisArg, args));\n        };\n        var startTimer = function (pendingFunc, wait) {\n            if (useRAF)\n                cancelAnimationFrame(timerId.current);\n            timerId.current = useRAF ? requestAnimationFrame(pendingFunc) : setTimeout(pendingFunc, wait);\n        };\n        var shouldInvoke = function (time) {\n            if (!mounted.current)\n                return false;\n            var timeSinceLastCall = time - lastCallTime.current;\n            var timeSinceLastInvoke = time - lastInvokeTime.current;\n            // Either this is the first call, activity has stopped and we're at the\n            // trailing edge, the system time has gone backwards and we're treating\n            // it as the trailing edge, or we've hit the `maxWait` limit.\n            return (!lastCallTime.current ||\n                timeSinceLastCall >= wait ||\n                timeSinceLastCall < 0 ||\n                (maxing && timeSinceLastInvoke >= maxWait));\n        };\n        var trailingEdge = function (time) {\n            timerId.current = null;\n            // Only invoke if we have `lastArgs` which means `func` has been\n            // debounced at least once.\n            if (trailing && lastArgs.current) {\n                return invokeFunc(time);\n            }\n            lastArgs.current = lastThis.current = null;\n            return result.current;\n        };\n        var timerExpired = function () {\n            var time = Date.now();\n            if (shouldInvoke(time)) {\n                return trailingEdge(time);\n            }\n            // https://github.com/xnimorz/use-debounce/issues/97\n            if (!mounted.current) {\n                return;\n            }\n            // Remaining wait calculation\n            var timeSinceLastCall = time - lastCallTime.current;\n            var timeSinceLastInvoke = time - lastInvokeTime.current;\n            var timeWaiting = wait - timeSinceLastCall;\n            var remainingWait = maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n            // Restart the timer\n            startTimer(timerExpired, remainingWait);\n        };\n        var func = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var time = Date.now();\n            var isInvoking = shouldInvoke(time);\n            lastArgs.current = args;\n            lastThis.current = _this;\n            lastCallTime.current = time;\n            if (isInvoking) {\n                if (!timerId.current && mounted.current) {\n                    // Reset any `maxWait` timer.\n                    lastInvokeTime.current = lastCallTime.current;\n                    // Start the timer for the trailing edge.\n                    startTimer(timerExpired, wait);\n                    // Invoke the leading edge.\n                    return leading ? invokeFunc(lastCallTime.current) : result.current;\n                }\n                if (maxing) {\n                    // Handle invocations in a tight loop.\n                    startTimer(timerExpired, wait);\n                    return invokeFunc(lastCallTime.current);\n                }\n            }\n            if (!timerId.current) {\n                startTimer(timerExpired, wait);\n            }\n            return result.current;\n        };\n        func.cancel = function () {\n            if (timerId.current) {\n                useRAF ? cancelAnimationFrame(timerId.current) : clearTimeout(timerId.current);\n            }\n            lastInvokeTime.current = 0;\n            lastArgs.current = lastCallTime.current = lastThis.current = timerId.current = null;\n        };\n        func.isPending = function () {\n            return !!timerId.current;\n        };\n        func.flush = function () {\n            return !timerId.current ? result.current : trailingEdge(Date.now());\n        };\n        return func;\n    }, [leading, maxing, wait, maxWait, trailing, useRAF]);\n    return debounced;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}"],"sourceRoot":""}