(this.webpackJsonproot=this.webpackJsonproot||[]).push([[6],{1920:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var i=a(65),n=a(3),c=a(6),r=a(17),s=a(1),d=function(t){var e,a=t.datetime,d=Object(r.useRelatedTickets)()({entity:"datetimes",entityId:a.id}),o=0,u=Object(i.a)(d);try{for(u.s();!(e=u.n()).done;){o+=e.value.registrationCount}}catch(O){u.e(O)}finally{u.f()}var l=Object(r.useRegistrationsLink)({datetime_id:a.dbId}),j=Object(n.__)("total registrations."),b=Object(n.__)("view ALL registrations for this date.");return Object(s.jsx)(c.ItemCount,{count:o,emphasizeZero:!1,title:j,children:Object(s.jsx)(c.RegistrationsLink,{href:l,tooltip:b})})}},1921:function(t,e,a){"use strict";var i=a(2),n=a(49),c=a(40),r=a.n(c),s=a(0),d=a(3),o=a(18),u=a(6),l=a(17),j=a(1);e.a=function(t){var e=t.entity,a=Object(l.useDatetimeMutator)(e.id).updateEntity,c=Object(l.useUpdateTicketQtyByCapacity)(),b=c.createBulkQtyUpdateInput,O=c.doQtyBulkUpdate,v=Object(s.useCallback)(function(){var t=Object(n.a)(r.a.mark((function t(n){var c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((c=Object(o.parseInfinity)(n))===e.capacity){t.next=7;break}return t.next=4,a({capacity:c});case 4:return s=b(Object(i.a)(Object(i.a)({},e),{},{capacity:c})),t.next=7,O(s);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,a,b,O]),p=Object(d.sprintf)(Object(d.__)("click to edit capacity%s(registration limit)\u2026"),"\n");return Object(j.jsx)(u.InlineEditInfinity,{"data-testid":"ee-datetime-inline-cap",onChange:v,tooltip:p,value:"".concat(e.capacity)})}},1925:function(t,e,a){"use strict";var i=a(2),n=a(9),c=a(6),r=a(875),s=function(t){return Object(r.a)("datetime",t)},d=a(1);e.a=function(t){var e=t.entity,a=Object(n.a)(t,["entity"]),r=s(e);return Object(d.jsx)(c.EntityActionsMenu,Object(i.a)(Object(i.a)({},a),{},{menuItems:r}))}},1926:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var i=a(0),n=a(3),c=a(17),r=a(6),s=a(1),d=function(t){var e=t.className,a=t["data-testid"],d=t.entity,o=t.view,u=void 0===o?"card":o,l=Object(c.useDatetimeMutator)(d.id).updateEntity,j="card"===u&&2,b=Object(i.useCallback)((function(t){t!==d.name&&l({name:t})}),[d.name,l]);return Object(s.jsx)(r.InlineEditText,{className:e,"data-testid":a,lineCount:j,onChange:b,tag:"table"===u?"div":"h4",tooltip:Object(n.__)("click to edit title\u2026"),value:d.name||Object(n.__)("add title\u2026")})}},1930:function(t,e,a){"use strict";a.r(e);var i=a(6),n=a(17),c=a(0),r=a(280),s=a(1925),d=a(5),o=a(3),u=a(71),l=a(31),j=a(1),b=function(t){var e=t.entity,a=Object(n.useDatesListFilterState)().displayStartOrEndDate,i=Object(n.useDatetimeMutator)(e.id).updateEntity,s=Object(l.useTimeZoneTime)().siteTimeToUtc,b=Object(c.useCallback)((function(t){var e=Object(d.a)(t,2),a=e[0],n=e[1],c=s(a).toISOString(),r=s(n).toISOString();i({startDate:c,endDate:r})}),[s,i]),O=Object(r.getDatetimeStatusTextLabel)(e),v=Object(c.useMemo)((function(){return{headerFuture:"start"===a?Object(o.__)("starts"):Object(o.__)("ends"),headerPast:"start"===a?Object(o.__)("started"):e.isExpired?Object(o.__)("ended"):Object(o.__)("ends")}}),[e.isExpired,a]);return e?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.CalendarDateSwitcher,{displayDate:a,labels:v,endDate:e.endDate,startDate:e.startDate}),Object(j.jsx)(u.EditDateRangeButton,{endDate:e.endDate,header:Object(o.__)("Edit Event Date"),onChange:b,popoverPlacement:"right-end",startDate:e.startDate,tooltip:Object(o.__)("edit start and end dates")}),Object(j.jsx)("div",{className:"ee-entity-status-label",children:O})]}):null},O=a(2),v=a(44),p=a(14),m=a(1920),y=function(t){var e=t.datetime,a=Object(n.useRegistrationsLink)({datetime_id:e.dbId,_reg_status:n.QueryURLRegStatus.APPROVED}),c=Object(o.__)("view approved registrations for this date.");return Object(j.jsx)(i.RegistrationsLink,{href:a,tooltip:c,children:e.sold})},_=a(1921),f=function(t){var e=t.entity,a=Object(c.useMemo)((function(){return[{id:"ee-event-date-sold",label:Object(o.__)("sold"),value:Object(j.jsx)(y,{datetime:e})},{id:"ee-event-date-capacity",label:Object(o.__)("capacity"),value:Object(j.jsx)(_.a,{entity:e})},{id:"ee-event-date-registrations",className:"ee-has-tooltip",label:Object(o.__)("reg list"),value:Object(j.jsx)(m.a,{datetime:e})}]}),[e]);return Object(j.jsx)(i.EntityDetailsPanel,{details:a,className:"ee-editor-date-details-sold-rsrvd-cap-div"})},x=a(1926),h=a(519),g=function(t){return Object(h.c)("datetime",t)},D=function(t){var e=t.entity,a=Object(n.useDatetimeMutator)(e.id).updateEntity,r=Object(c.useCallback)((function(t){a({description:t})}),[a]),s=g(e.id),d=Object(c.useMemo)((function(){return n.hooks.applyFilters("eventEditor.datetimes.inlineDescriptionProps",v.EMPTY_OBJECT,e)}),[e]),l=Object(n.useVenues)(),b=Object(c.useMemo)((function(){return Object(p.findEntityByGuid)(l)(null===e||void 0===e?void 0:e.venue)}),[null===e||void 0===e?void 0:e.venue,l]),m=Object(c.useCallback)((function(t){return a({venue:t})}),[a]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.a,{className:"entity-card-details__name",entity:e}),Object(j.jsx)(u.SimpleTextEditorModal,Object(O.a)({className:"entity-card-details__text",onUpdate:r,text:e.description,placeholder:Object(o.__)("add description\u2026"),title:Object(o.__)("Edit description"),tooltip:Object(o.__)("click to edit description\u2026")},d)),Object(j.jsx)(i.VenueSelector,{align:"center",className:"ee-event-venue",inline:!0,noBorderColor:!0,onChangeValue:m,value:null===e||void 0===e?void 0:e.venue,venueName:null===b||void 0===b?void 0:b.name,venues:l}),s,Object(j.jsx)(f,{entity:e})]})},E=function(t){var e=t.id,a=Object(n.useDatetimeItem)({id:e}),d=Object(r.datetimeStatusBgColorClassName)(a),o=Object(c.useMemo)((function(){return(null===a||void 0===a?void 0:a.name.length)>0?a.name:"datetime"}),[a]),u=i.EntityPaperFrame.Contexts.AriaLabel.Provider;return a?Object(j.jsx)(u,{value:o,children:Object(j.jsx)(i.EntityCard,{actionsMenu:Object(j.jsx)(s.a,{entity:a,layout:i.EntityActionsMenuLayout.Vertical}),details:Object(j.jsx)(D,{entity:a}),entity:a,sidebar:Object(j.jsx)(b,{entity:a}),sidebarClass:d})}):null};e.default=function(){var t=Object(n.useFilteredDateIds)();return Object(j.jsx)(i.EntityCardList,{EntityCard:E,entityIds:t})}}}]);
//# sourceMappingURL=dates-card-view.543c7ce4.chunk.js.map