# Actions
The following set of dispatch actions are available on the object returned by `wp.data.dispatch( 'eventespresso/core' )`.

## Non Persisting Actions
These are actions that record information in the `eventespresso/core` store state.  They do not persist anything to the server.

### Create ([entities](./entities/create.md), [relations](./relations/create.md))
The following actions are used for any creating entities or adding created entities outside of the store to the store state.

| Action                                                                                                                        | Description                                                                                                                                                                                        |
| ------------------------------------------------------------------------------------------------------------------------------| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`createEntity`](./entities/create.md#createentity-modelname-entity-)                                                         | Dispatch action for creating a `BaseEntity` instance for the given model from the incoming data and adding it to state.                                                                            |
| [`receiveEntityAndResolve`](./entities/create.md#receiveentityandresolve-entity-)                                             | Dispatch action for receiving a `BaseEntity` instance, adding it to the state, and also resolving the `getEntityById` selector for that entity.                                                    |
| [`receiveEntitiesAndResolve`](./entities/create.md#receiveentitiesandresolve-modelname-entities-)                             | Same as `receiveEntityAndResolves` except handles multiple entities.                                                                                                                               |
| [`createRelation`](./relations/create.md#createrelation-modelname-entityid-relationname-relationentity-)                      | Creates a relation between the given relation entity and model entity id                                                                                                                           |
| [`createRelations`](./relations/create.md#createrelations-modelname-entityid-relationname-relationentities-)                  | Same as `createRelation` except adds relation for multiple given relation entities.                                                                                                                |
| [`resolveRelationRecordForRelation`](./relations/create.md/resolverelationrecordforrelation-relationentity-modelname-modelid-)| This handles receiving the relation entity and dispatching all the related state actions for that relation including resolving selectors for the given relation entity and model name and model id |

### Delete ([entities](./entities/delete.md) & [relations](./relations/delete.md))

| Action                                                                                                                                     | Description                                                                                                |
| -------------------------------------------------------------------------------------------------------------------------------------------| -----------------------------------------------------------------------------------------------------------|
| [`deleteEntityById`](./entities/delete.md#deleteentitybyid-modelname-entityid-)                                                            | Dispatches an action that queues the entity with matching id for delete                                    |
| [`trashEntityById`](./entities/delete.md#trashentitybyid-modelname-entityid-)                                                              | Dispatches an action that queues the entity with matching id for trashing                                  |
| [`removeDirtyRelationForAddition`](./relations/delete.md#removedirtyrelationforaddition-modelname-entityid-relation-name-relationentityid-)| Removes the queued relation addition in the state (effectively cancelling adding that relation)            |
| [`removeRelationForEntity`](./relations/delete.md#removerelationforentity-modelname-entityid-relationname-relationentityid-)               | Queues the removal of a relation between entities.  The entities do not already need to exist in the state.|

## Persisting Actions
These are various actions that end up persisting the current state to the server.

### Create/Update

| Action                                                                                                                                                                     |Description                                                                                                                     |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------- |
| [`persistEntityRecord`](./entities/persist.md#persistentityrecord-modelname-entity-)                                                                                       |Dispatch action that persists the given entity to the server if it is new or has changes.                                       |
| [`persistForEntityId`](./entities/persist.md#persistforentityid-modelname-entityid-)                                                                                       |Dispatch action that persists an entity in the state matching the given id if it is new or has changes.                         |
| [`persistForEntityIds`](./entities/persist.md#persistforentityids-modelname-entityids---)                                                                                  |Dispatch action that persists any entities currently in the state that match the given entity ids when they are new or changed. |
| [`persistAddRelationsForModel`](./relations/persist.md#persistaddrelationsformodel-modelname-)                                                                             | Triggers persisting any queued relation additions for the given model to the database                                 |
| [`persistRelationsForEntityId`](./relations/persist.md#persistrelationsforentityid-modelname-entityid-addrelation--true-)                                                  | Persists relations for the given model and entity id and given type (add or delete)                                   |
| [`persistRelationsForEntityIdAndRelation`](./relations/persist.md#persistrelationsforentityidandrelation-modelname-entityid-relationname-add-relation--true-)              | Persists relations for the given entity and relation entities belonging to the given relation model for the given type|
| [`persistRelationsForEntityIdAndRelationId`](./relations/persist.md#persistrelationsforentityidandrelationid-modelname-entityid-relationname-relationid-addrelation--true-)| Persists relations for the given entity and relation entity and given type                                            |
| [`toggleCheckin`](./model-specific/persist.md#togglecheckin-registrationid-datetimeid-force--false-) | Toggles the state of a checkin for a given registration id and datetime id and returns the new created checkin entity.                                                                                                                             |                                                                                                                                |

### Delete

| Action                                                                                                                                                                     | Description                                                                                                           |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------| ----------------------------------------------------------------------------------------------------------------------|
| [`persistDeletesForModel`](./entities/persist.md#persistdeletesformodel-modelname-)                                                                                        | Will persist any entity deletes currently queued in the state.                                                        |
| [`persistTrashesForModel`](./entities/persist.md#persisttrashesformodel-modelname-)                                                                                        | Will persist any entity trashes currently queued in the state.                                                        |
| [`persistAllDeletes`](./entities/persist.md#persistalldeletes)                                                                                                             | Triggers persisting all deletes and trashes queued in the state (across all models)                                   |
| [`persistDeleteRelationsForModel`](./relations/persist.md#persistdeleterelationsformodel-modelname-)                                                                       | Triggers persisting any queued relation deletions for the given model to the database                                 |
| [`persistRelationsForEntityId`](./relations/persist.md#persistrelationsforentityid-modelname-entityid-addrelation--true-)                                                  | Persists relations for the given model and entity id and given type (add or delete)                                   |
| [`persistRelationsForEntityIdAndRelation`](./relations/persist.md#persistrelationsforentityidandrelation-modelname-entityid-relationname-add-relation--true-)              | Persists relations for the given entity and relation entities belonging to the given relation model for the given type|
| [`persistRelationsForEntityIdAndRelationId`](./relations/persist.md#persistrelationsforentityidandrelationid-modelname-entityid-relationname-relationid-addrelation--true-)| Persists relations for the given entity and relation entity and given type                                            |


## Low Level Actions
These are actions that are used internally by other actions listed in this page and should be used with care because used incorrectly could lead to some unexpected results for persist actions.  Generally speaking, client code should avoid dispatching these actions directly.

| Action                                                                                                                                   | Description                                                                                                                                                                                                                      |
| -----------------------------------------------------------------------------------------------------------------------------------------| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [`receiveEntityRecords`](./entities/low-level.md#receiveentityrecords-modelname-entities---)                                             | Dispatches an action for receiving entities into state. Existing entities in state will not be replaced.                                                                                                                         |
| [`receiveAndReplaceEntityRecords`](./entities/low-level.md#receiveandreplaceentityrecords-modelname-entities---)                         | Dispatches an action for receiving entities into state. Existing entities in state **will** be replaced.                                                                                                                         |
| [`receiveEntity`](./entities/low-level.md#receiveentity-entity-)                                                                         | Dispatches an action receiving an instance of `BaseEntity` into the state.                                                                                                                                                       |
| [`receiveTrashEntityId`](./entities/low-level.md#receivetrashentityid-modelname-entityid-)                                               | Dispatch action for queuing an entity id for a given model to be trashed.                                                                                                                                                        |
| [`receiveDeleteEntityId`](./entities/low-level.md#receivedeleteentityid-modelname-entityid-)                                             | Dispatch action for queuing an entity id for a given model to be deleted.                                                                                                                                                        |
| [`removeEntityById`](./entities/low-level.md#removeentitybyid-modelname-entityid-)                                                       | Dispatch action for removing an entity with the given entity id for the given model from the state.                                                                                                                              |
| [`removeDeleteEntityId`](./entities/low-level.md#removedeleteentityid-modelname-entityid-)                                               | Dispatch action for removing the queue for deleting the given entity from the state (i.e. cancel a delete)                                                                                                                       |
| [`removeTrashEntityId`](./entities/low-level.md#removetrashentityid-modelname-entityid-)                                                 | Dispatch action for removing the queue for trashing the given entity from the state (i.e. cancel a trash)                                                                                                                        |
| [`receiveRelatedEntities`](./relations/low-level.md#receiverelatedentities-modelname-entityid-relationname-relatedentityids)             | Records the relations for the given entities to the state. This is typically used when relations have been retrieved and recorded in the state. It is used for both _pending_ (non-persisted) relations and _existing_ relations.|
| [`receiveDirtyRelationAddition`](./relations/low-level.md#receivedirtyrelationaddition-relationname-relationentityid-modelname-entityid-)| Queues the relation creation between given entities                                                                                                                                                                              |
| [`receiveDirtyRelationDeletion`](./relations/low-level.md#receivedirtyrelationdeletion-relationname-relationentityid-modelname-entityid-)| Queues the relation removal between the given entities                                                                                                                                                                           |
| [`receiveUpdatedEntityIdForRelations`](./relations/low-level.md#receiveupdatedentityidforrelations-modelname-oldentityid-newentityid-)   | Replaces all occurrences of the given old entity id for the given model in the relations tree of the state with the given new entity id.                                                                                         |
| [`removeAllRelatedEntitiesForModelEntity`](./relations/low-level.md#removeallrelatedentitiesformodelentity-modelname-entityid-)          | Removes all indexed relations for the given specific entity from the state.                                                                                                                                                      |
| [`removeRelatedEntities`](./relations/low-level.md#removerelatedentities-modelname-entityid-relationname-relatedentityids-)              | Removes any recorded relations for the given entity and relation entities in the state. This does **not** queue persisting the removal of relations on the server. It **only** affects records locally in the state.             |
| [`removeDirtyRelationAddition`](./relations/low-level.md#removedirtyrelationaddition-relationname-relationentityid-modelname-entityid-)  | Removes the relation addition queued for persisting from the state record.                                                                                                                                                       |
| [`removeDirtyRelationDeletion`](./relations/low-level.md#removedirtyrelationdeletion-relationname-relationentityid-modelname-entityid-)  | Removes the relation deletion queued for persisting from the state record.                                                                                                                                                       |
| [`receiveLatestCheckin`](./model-specific/low-level.md#receivelatestcheckin-checkinentity-registrationid-datetimeid-)                    | Receives the latest checkin record into the state for the given registration id and datetime id.                                                                                                                                 |